{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@xypp/collector/./node_modules/dayjs/dayjs.min.js","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@xypp/collector/./node_modules/@babel/runtime/regenerator/index.js","webpack://@xypp/collector/webpack/bootstrap","webpack://@xypp/collector/webpack/runtime/compat get default export","webpack://@xypp/collector/webpack/runtime/define property getters","webpack://@xypp/collector/webpack/runtime/hasOwnProperty shorthand","webpack://@xypp/collector/webpack/runtime/make namespace object","webpack://@xypp/collector/external root \"flarum.core.compat['forum/app']\"","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@xypp/collector/external root \"flarum.core.compat['common/extend']\"","webpack://@xypp/collector/./src/common/types/data.ts","webpack://@xypp/collector/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@xypp/collector/./src/common/utils/HumanizeUtils.tsx","webpack://@xypp/collector/./src/common/utils/AddFrontend.ts","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/Button']\"","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/Select']\"","webpack://@xypp/collector/./src/common/components/commonSelectionModal.tsx","webpack://@xypp/collector/external root \"flarum.core.compat['forum/components/UserPage']\"","webpack://@xypp/collector/./src/forum/utils/frontendTrigger.ts","webpack://@xypp/collector/./src/forum/integration/pageCount.ts","webpack://@xypp/collector/external root \"flarum.core.compat['common/Model']\"","webpack://@xypp/collector/./src/common/models/Condition.ts","webpack://@xypp/collector/external root \"flarum.core.compat['common/models/User']\"","webpack://@xypp/collector/./src/forum/utils/userCondition.ts","webpack://@xypp/collector/external root \"flarum.core.compat['common/Component']\"","webpack://@xypp/collector/../node_modules/bignumber.js/bignumber.mjs","webpack://@xypp/collector/../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://@xypp/collector/../node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://@xypp/collector/../node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@xypp/collector/../src/parser/token-type.ts","webpack://@xypp/collector/../src/parser/util.ts","webpack://@xypp/collector/../src/operator.ts","webpack://@xypp/collector/../src/transform.ts","webpack://@xypp/collector/../src/parser/index.ts","webpack://@xypp/collector/../src/pure.ts","webpack://@xypp/collector/../src/index.ts","webpack://@xypp/collector/./src/forum/utils/userValueUtil.ts","webpack://@xypp/collector/./src/forum/components/ConditionList.tsx","webpack://@xypp/collector/./src/forum/components/RewardList.tsx","webpack://@xypp/collector/./src/forum/index.ts","webpack://@xypp/collector/./src/common/integration/index.ts","webpack://@xypp/collector/external root \"flarum.core.compat['common/extenders']\"","webpack://@xypp/collector/./src/common/models/CustomCondition.ts","webpack://@xypp/collector/./src/common/extend.ts"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","export enum OPERATOR {\r\n    EQUAL = '=',\r\n    NOT_EQUAL = '!=',\r\n    GREATER_THAN = '>',\r\n    LESS_THAN = '<',\r\n    GREATER_THAN_OR_EQUAL = '>=',\r\n    LESS_THAN_OR_EQUAL = '<=',\r\n};\r\nexport enum CALCULATE {\r\n    SUM = 1,\r\n    MAX = 2,\r\n    DAY_COUNT = 3,\r\n}\r\nexport type ConditionEvent = {\r\n    name: string;\r\n    value: number;\r\n}\r\nexport type ConditionData = {\r\n    name: string;\r\n    operator: OPERATOR;\r\n    value: number;\r\n    span?: number;\r\n    calculate?: CALCULATE;\r\n    alter_name?: string;\r\n}\r\nexport type RewardData = {\r\n    name: string;\r\n    value: string;\r\n    alter_name?: string;\r\n}\r\nexport type ConditionAccumulation = {\r\n    all: number,\r\n    rest: number,\r\n    max: number,\r\n    days: number;\r\n    [key: string]: number;\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","import ForumApplication from \"flarum/forum/ForumApplication\";\r\nimport AdminApplication from \"flarum/admin/AdminApplication\";\r\n\r\nimport { CALCULATE, ConditionData, RewardData } from \"../types/data\";\r\nimport ItemList from \"flarum/common/utils/ItemList\";\r\nimport Condition from \"../models/Condition\";\r\nimport { showIf } from \"./NodeUtil\";\r\n\r\nconst CONDITION_OPERATOR_MAP = {\r\n    \">=\":\"ge\",\r\n    \">\":\"gt\",\r\n    \"<=\":\"le\",\r\n    \"<\":\"lt\",\r\n    \"=\":\"eq\",\r\n    \"!=\":\"ne\"\r\n}\r\n\r\nexport default class HumanizeUtils {\r\n    public static instance?: HumanizeUtils;\r\n    protected app: ForumApplication | AdminApplication;\r\n    protected definitionLoaded: boolean = false;\r\n    protected rawConditionDefinition: Record<string, {\r\n        global: boolean, trans: string, key: string, manual: boolean, abs: boolean, update: boolean, evaluation?: string\r\n    }> = {}\r\n    protected conditionTranslations: Record<string, string> = {};\r\n    protected rewardTranslations: Record<string, string> = {};\r\n    protected conditionsKeys: string[] = [];\r\n    protected rewardsKeys: string[] = [];\r\n    constructor(app: ForumApplication | AdminApplication) {\r\n        this.app = app;\r\n    }\r\n    public async loadDefinition() {\r\n        if (this.definitionLoaded) {\r\n            return;\r\n        }\r\n        if (this.app.data['collector-definition']) {\r\n            this._loadDefinition(this.app.data['collector-definition'] as any);\r\n            return;\r\n        }\r\n        const data = await this.app.request({\r\n            method: \"GET\",\r\n            url: this.app.forum.attribute(\"apiUrl\") + \"/collector-data\"\r\n        });\r\n        this._loadDefinition(data as any);\r\n    }\r\n    protected _loadDefinition(data: {\r\n        conditions: { global: boolean, trans: string, key: string, manual: boolean, abs: boolean, update: boolean, evaluation?: string }[],\r\n        rewards: { trans: string, key: string }[]\r\n    }) {\r\n        data.conditions.forEach((value) => {\r\n            this.conditionTranslations[value.key] = value.trans;\r\n            this.conditionsKeys.push(value.key);\r\n            this.rawConditionDefinition[value.key] = value;\r\n        });\r\n        data.rewards.forEach((value) => {\r\n            this.rewardTranslations[value.key] = value.trans;\r\n            this.rewardsKeys.push(value.key);\r\n        });\r\n        this.definitionLoaded = true;\r\n    }\r\n    public static getInstance(app: ForumApplication | AdminApplication): HumanizeUtils {\r\n        if (!this.instance) {\r\n            this.instance = new HumanizeUtils(app);\r\n        }\r\n        return this.instance;\r\n    }\r\n    public getAllConditions(containsGlobal: boolean = false): ItemList<string> {\r\n        const ret = new ItemList<string>();\r\n        this.conditionsKeys.forEach(key => {\r\n            if (containsGlobal || !this.rawConditionDefinition[key].global)\r\n                ret.add(key, this.conditionTranslations[key]);\r\n        });\r\n        return ret;\r\n    }\r\n    public getAllRewards(): ItemList<string> {\r\n        const ret = new ItemList<string>();\r\n        this.rewardsKeys.forEach(key => {\r\n            ret.add(key, this.rewardTranslations[key]);\r\n        });\r\n        return ret;\r\n    }\r\n    public getConditionName(key: string): string {\r\n        if (!this.getAllConditions().has(key)) {\r\n            return key;\r\n        }\r\n        return this.getAllConditions().get(key);\r\n    }\r\n    public getRewardName(key: string): string {\r\n        if (!this.getAllRewards().has(key)) {\r\n            return key;\r\n        }\r\n        return this.getAllRewards().get(key);\r\n    }\r\n    public getRewardValue(key: string, value: string): string {\r\n        return value;\r\n    }\r\n    public async rewardSelection(type: string) {\r\n        return \"\";\r\n    }\r\n    public humanizeCondition(conditionData: ConditionData[] | ConditionData): any {\r\n        if (Array.isArray(conditionData)) {\r\n            return conditionData.map(condition => {\r\n                return this.humanizeCondition(condition);\r\n            });\r\n        } else {\r\n            if (conditionData.alter_name) {\r\n                return conditionData.alter_name;\r\n            }\r\n            let span = conditionData.span ? this.app.translator.trans(\"xypp-collector.forum.condition.span\", { span: conditionData.span }) : '';\r\n            if (Array.isArray(span)) {\r\n                span = span.join(\"\");\r\n            }\r\n            return this.app.translator.trans(\"xypp-collector.forum.condition.format\", {\r\n                b: <b />,\r\n                name: this.getConditionName(conditionData.name),\r\n                operator: this.app.translator.trans(`xypp-collector.lib.operator.${CONDITION_OPERATOR_MAP[conditionData.operator]}`),\r\n                value: conditionData.value,\r\n                calculate: this.getCalculate(conditionData.calculate || CALCULATE.SUM),\r\n                span\r\n            });\r\n        }\r\n    }\r\n\r\n    public humanizeReward(rewardData: RewardData[] | RewardData): any {\r\n        if (Array.isArray(rewardData)) {\r\n            return rewardData.map(condition => {\r\n                return this.humanizeReward(condition);\r\n            });\r\n        } else {\r\n            if (rewardData.alter_name) {\r\n                return rewardData.alter_name;\r\n            }\r\n            return this.app.translator.trans(\"xypp-collector.forum.reward.format\", {\r\n                b: <b />,\r\n                name: this.getRewardName(rewardData.name),\r\n                value: this.getRewardValue(rewardData.name, rewardData.value)\r\n            });\r\n        }\r\n    }\r\n\r\n    public getCalculate(calculate: CALCULATE) {\r\n        const CALCULATE_MAPPING = {\r\n            [CALCULATE.SUM]: 'sum',\r\n            [CALCULATE.MAX]: 'max',\r\n            [CALCULATE.DAY_COUNT]: 'days'\r\n        }\r\n        return this.app.translator.trans(\"xypp-collector.lib.calculate.\" + CALCULATE_MAPPING[calculate]);\r\n    }\r\n    public getRawConditionDefinition(key: string): { global: boolean, trans: string, key: string, manual: boolean, abs: boolean, update: boolean, evaluation?: string } | false {\r\n        return this.rawConditionDefinition[key] || false;\r\n    }\r\n}","import { extend, override } from \"flarum/common/extend\";\r\nimport HumanizeUtils from \"./HumanizeUtils\";\r\nimport ItemList from \"flarum/common/utils/ItemList\";\r\n\r\nexport function addCondition(key: string, name: string) {\r\n    extend(HumanizeUtils.prototype, \"getAllConditions\", (list: ItemList<string>) => {\r\n        list.add(key, name);\r\n    })\r\n}\r\nexport function addReward(key: string, name: string) {\r\n    extend(HumanizeUtils.prototype, \"getAllRewards\", (list: ItemList<string>) => {\r\n        list.add(key, name);\r\n    })\r\n}\r\nexport function rewardValueConvert(key: string, callback: (value: string) => string) {\r\n    override(HumanizeUtils.prototype, \"getRewardValue\", (ofunction: (key: string, value: string) => string, _key: string, value: string) => {\r\n        if (key === _key) {\r\n            return callback(value);\r\n        } else {\r\n            return ofunction(_key, value);\r\n        }\r\n    })\r\n}\r\n\r\nexport function addRewardSelection(key: string, callback: () => Promise<string>) {\r\n    override(HumanizeUtils.prototype, \"rewardSelection\", async (ofunction: (key: string) => Promise<string>, _key: string) => {\r\n        if (key === _key) {\r\n            return callback();\r\n        } else {\r\n            return ofunction(_key);\r\n        }\r\n    });\r\n}","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","import Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\r\nimport Button from 'flarum/common/components/Button';\r\nimport Select from 'flarum/common/components/Select';\r\nimport ForumApplication from 'flarum/forum/ForumApplication';\r\nimport AdminApplication from 'flarum/admin/AdminApplication';\r\nexport default class commonSelectionModal extends Modal<{\r\n    items: Record<string, string>,\r\n    title: string,\r\n    button: string,\r\n    callback: (name: string) => void\r\n    cancel: () => void\r\n} & IInternalModalAttrs> {\r\n    selection = \"\";\r\n    done: boolean = false;\r\n    oninit(vnode: any): void {\r\n        super.oninit(vnode);\r\n        this.selection = this.attrs.items[Object.keys(this.attrs.items)[0]];\r\n    }\r\n    className() {\r\n        return 'Modal';\r\n    }\r\n    title() {\r\n        return this.attrs.title;\r\n    }\r\n    oncreate(vnode: any): void {\r\n        super.oncreate(vnode);\r\n    }\r\n    onremove(vnode: any): void {\r\n        super.onremove(vnode);\r\n        if (!this.done)\r\n            this.attrs.cancel();\r\n    }\r\n    content() {\r\n        const that = this;\r\n        return (\r\n            <div className=\"Modal-body\">\r\n                <div className=\"Form\">\r\n                    <div className=\"Form-group\">\r\n                        <Select className=\"FormControl\" value={this.selection} options={this.attrs.items} onchange={((name: string) => {\r\n                            this.selection = name;\r\n                        }).bind(this)} />\r\n                    </div>\r\n                    <div className=\"Form-group\">\r\n                        <Button class=\"Button Button--primary\" type=\"submit\" loading={this.loading}>\r\n                            {this.attrs.button}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    async onsubmit(e: any) {\r\n        e.preventDefault();\r\n        this.done = true;\r\n        this.attrs.callback(this.selection);\r\n    }\r\n    public static open(app: ForumApplication | AdminApplication, items: Record<string, string>, title: string, button: string): Promise<string> {\r\n        return new Promise<string>((resolve, reject) => {\r\n            app.modal.show(commonSelectionModal, {\r\n                items: items,\r\n                title: title,\r\n                button: button,\r\n                cancel: () => {\r\n                    reject();\r\n                },\r\n                callback: (name: string) => {\r\n                    resolve(name);\r\n                    app.modal.close();\r\n                }\r\n            },true);\r\n        });\r\n    }\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserPage'];","import app from \"flarum/forum/app\"\r\nexport function triggerCondition(key: string, value: number) {\r\n    return triggerConditions({\r\n        [key]: value\r\n    })\r\n}\r\nexport function triggerConditions(records: Record<string, number>) {\r\n    const rec = Object.keys(records).map(key => {\r\n        return {\r\n            name: key,\r\n            value: records[key]\r\n        }\r\n    });\r\n    return app.request({\r\n        url: app.forum.attribute('apiUrl') + \"/collector-condition\",\r\n        method: \"POST\",\r\n        body: { data: rec }\r\n    });\r\n}","import app from 'flarum/forum/app';\r\nimport { extend } from 'flarum/common/extend';\r\nimport UserPage from 'flarum/forum/components/UserPage';\r\nimport { triggerCondition } from '../utils/frontendTrigger';\r\nconst typeCnt: Record<string, number> = {};\r\nconst records: Record<string, Record<string, boolean>> = {};\r\nfunction limitCount(type: string, count: number, cb: (type: string) => void) {\r\n    typeCnt[type] = typeCnt[type] || 0;\r\n    if (typeCnt[type] < count) {\r\n        typeCnt[type]++;\r\n        cb(type);\r\n    }\r\n}\r\nfunction limitTypeOnce(type: string, newKey: string, cb: (type: string) => void) {\r\n    const dict = (records[type] = records[type] || {});\r\n    if (!dict[newKey]) {\r\n        dict[newKey] = true;\r\n        cb(type);\r\n    }\r\n}\r\n\r\nexport function registerCount() {\r\n    extend(UserPage.prototype, \"show\", function () {\r\n        if (app.session?.user)\r\n            limitTypeOnce(\"user_page_view\", this.user?.slug() as string, t => limitCount(t, 5, t => triggerCondition(t, 1)));\r\n    })\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\nimport { CALCULATE, ConditionAccumulation, ConditionData, RewardData } from '../types/data';\nimport dayjs from 'dayjs';\n// For more details about frontend models\n// checkout https://docs.flarum.org/extend/models.html#frontend-models\nfunction optionalJsonParser<T>(data: any): T | null {\n  if (!data) {\n    return null\n  };\n  try {\n    return JSON.parse(data);\n  } catch (ignore) {\n    return null;\n  }\n}\n\nconst META_FIELDS = [\"all\", \"rest\", \"flg\", \"max\", \"days\"];\n\nexport default class Condition extends Model {\n  name = Model.attribute<string>('name');\n  value = Model.attribute<number>('value');\n  user_id = Model.attribute<number>('user_id');\n  global = Model.attribute<boolean>('global');\n  accumulation = Model.attribute<ConditionAccumulation | null>('accumulation', optionalJsonParser<ConditionAccumulation>);\n  getSpan(span: number, calculate: CALCULATE = CALCULATE.SUM): number {\n    if (!calculate) calculate = CALCULATE.SUM;\n    const accumulation = this.accumulation();\n    if (!accumulation || span < 1) return 0;\n    let cut = dayjs(dayjs().format(\"YYYYMMDD\"), \"YYYYMMDD\");\n    if (span != 1) {\n      cut = cut.subtract(span - 1, 'day');\n    }\n    let ret = 0;\n    Object.keys(accumulation).forEach((key: string) => {\n      if (META_FIELDS.includes(key)) return;\n      const d = dayjs(key, \"YYYYMMDD\");\n      if (d.isAfter(cut) || d.isSame(cut)) {\n        if (calculate == CALCULATE.MAX)\n          ret = Math.max(ret, accumulation[key]);\n        else if (calculate == CALCULATE.SUM)\n          ret += accumulation[key];\n        else if (calculate == CALCULATE.DAY_COUNT && accumulation[key] > 0)\n          ret += 1;\n      }\n    });\n    return ret;\n  }\n\n  getTotal(calculate: CALCULATE = CALCULATE.SUM) {\n    if (!calculate) calculate = CALCULATE.SUM;\n    if (calculate == CALCULATE.MAX) return this.accumulation()?.max || 0;\n    else if (calculate == CALCULATE.DAY_COUNT) return this.accumulation()?.days || 0;\n    else return this.accumulation()?.all || 0;\n  }\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/User'];","import app from \"flarum/forum/app\";\r\nimport Condition from \"../../common/models/Condition\";\r\nimport User from \"flarum/common/models/User\";\r\nexport async function getConditionMap(forceRefresh: boolean = false, user: number | string | User | null = null): Promise<Record<string, Condition>> {\r\n    const conditions = await getConditions(forceRefresh, user);\r\n    const conditionMap: Record<string, Condition> = {};\r\n    conditions.forEach((item) => {\r\n        conditionMap[item.name()] = item;\r\n    });\r\n    return conditionMap;\r\n}\r\nexport async function getConditions(forceRefresh: boolean = false, user: number | string | User | null = null): Promise<Condition[]> {\r\n    let data = undefined;\r\n    if (user) {\r\n        if (user instanceof User) data = { id: user.id() };\r\n        else data = { id: user };\r\n    }\r\n    let conditions = app.store.all<Condition>(\"collector-condition\");\r\n    if (data && data.id) {\r\n        conditions = conditions.filter(c => c.global() || c.user_id() == data.id);\r\n    }\r\n\r\n    if (forceRefresh || conditions.length == 0) {\r\n        conditions = await app.store.find<Condition[]>('collector-condition', data as any);\r\n    }\r\n    return conditions;\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","/*\r\n *      bignumber.js v9.0.1\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2020 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\nvar\r\n  isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n\r\n  mathceil = Math.ceil,\r\n  mathfloor = Math.floor,\r\n\r\n  bignumberError = '[BigNumber Error] ',\r\n  tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n  BASE = 1e14,\r\n  LOG_BASE = 14,\r\n  MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n  SQRT_BASE = 1e7,\r\n\r\n  // EDITABLE\r\n  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n  // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n  MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n/*\r\n * Create and return a BigNumber constructor.\r\n */\r\nfunction clone(configObject) {\r\n  var div, convertBase, parseNumeric,\r\n    P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n    ONE = new BigNumber(1),\r\n\r\n\r\n    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n    // The default values below must be integers within the inclusive ranges stated.\r\n    // The values can also be changed at run-time using BigNumber.set.\r\n\r\n    // The maximum number of decimal places for operations involving division.\r\n    DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n    // The rounding mode used when rounding to the above decimal places, and when using\r\n    // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n    // UP         0 Away from zero.\r\n    // DOWN       1 Towards zero.\r\n    // CEIL       2 Towards +Infinity.\r\n    // FLOOR      3 Towards -Infinity.\r\n    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n    // The exponent value at and beneath which toString returns exponential notation.\r\n    // Number type: -7\r\n    TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n    // The exponent value at and above which toString returns exponential notation.\r\n    // Number type: 21\r\n    TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n    // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // Number type: -324  (5e-324)\r\n    MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // Number type:  308  (1.7976931348623157e+308)\r\n    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n    MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    CRYPTO = false,                          // true or false\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN      1 The remainder has the same sign as the dividend.\r\n    //             This modulo mode is commonly known as 'truncated division' and is\r\n    //             equivalent to (a % n) in JavaScript.\r\n    // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n    //             The remainder is always positive.\r\n    //\r\n    // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n    // modes are commonly used for the modulus operation.\r\n    // Although the other rounding modes can also be used, they may not give useful results.\r\n    MODULO_MODE = 1,                         // 0 to 9\r\n\r\n    // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n    // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n    POW_PRECISION = 0,                    // 0 to MAX\r\n\r\n    // The format specification used by the BigNumber.prototype.toFormat method.\r\n    FORMAT = {\r\n      prefix: '',\r\n      groupSize: 3,\r\n      secondaryGroupSize: 0,\r\n      groupSeparator: ',',\r\n      decimalSeparator: '.',\r\n      fractionGroupSize: 0,\r\n      fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n      suffix: ''\r\n    },\r\n\r\n    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n    // '-', '.', whitespace, or repeated character.\r\n    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz';\r\n\r\n\r\n  //------------------------------------------------------------------------------------------\r\n\r\n\r\n  // CONSTRUCTOR\r\n\r\n\r\n  /*\r\n   * The BigNumber constructor and exported function.\r\n   * Create and return a new instance of a BigNumber object.\r\n   *\r\n   * v {number|string|BigNumber} A numeric value.\r\n   * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n   */\r\n  function BigNumber(v, b) {\r\n    var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n      x = this;\r\n\r\n    // Enable constructor call without `new`.\r\n    if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n    if (b == null) {\r\n\r\n      if (v && v._isBigNumber === true) {\r\n        x.s = v.s;\r\n\r\n        if (!v.c || v.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n        } else if (v.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.c = v.c.slice();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n        // Use `1 / n` to handle minus zero also.\r\n        x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n        // Fast path for integers, where n < 2147483648 (2**31).\r\n        if (v === ~~v) {\r\n          for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n          if (e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else {\r\n            x.e = e;\r\n            x.c = [v];\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        str = String(v);\r\n      } else {\r\n\r\n        if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n      // Exponential form?\r\n      if ((i = str.search(/e/i)) > 0) {\r\n\r\n        // Determine exponent.\r\n        if (e < 0) e = i;\r\n        e += +str.slice(i + 1);\r\n        str = str.substring(0, i);\r\n      } else if (e < 0) {\r\n\r\n        // Integer.\r\n        e = str.length;\r\n      }\r\n\r\n    } else {\r\n\r\n      // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n      intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n      // Allow exponential notation to be used with base 10 argument, while\r\n      // also rounding to DECIMAL_PLACES as with other bases.\r\n      if (b == 10) {\r\n        x = new BigNumber(v);\r\n        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n      }\r\n\r\n      str = String(v);\r\n\r\n      if (isNum = typeof v == 'number') {\r\n\r\n        // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n        if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n          throw Error\r\n           (tooManyDigits + v);\r\n        }\r\n      } else {\r\n        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      alphabet = ALPHABET.slice(0, b);\r\n      e = i = 0;\r\n\r\n      // Check that str is a valid base b number.\r\n      // Don't use RegExp, so alphabet can contain special characters.\r\n      for (len = str.length; i < len; i++) {\r\n        if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n          if (c == '.') {\r\n\r\n            // If '.' is not the first character and it has not be found before.\r\n            if (i > e) {\r\n              e = len;\r\n              continue;\r\n            }\r\n          } else if (!caseChanged) {\r\n\r\n            // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n            if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n              caseChanged = true;\r\n              i = -1;\r\n              e = 0;\r\n              continue;\r\n            }\r\n          }\r\n\r\n          return parseNumeric(x, String(v), isNum, b);\r\n        }\r\n      }\r\n\r\n      // Prevent later check for length on converted number.\r\n      isNum = false;\r\n      str = convertBase(str, b, 10, x.s);\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n      else e = str.length;\r\n    }\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n    // Determine trailing zeros.\r\n    for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n    if (str = str.slice(i, ++len)) {\r\n      len -= i;\r\n\r\n      // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n      if (isNum && BigNumber.DEBUG &&\r\n        len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n          throw Error\r\n           (tooManyDigits + (x.s * v));\r\n      }\r\n\r\n       // Overflow?\r\n      if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        x.c = x.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      } else {\r\n        x.e = e;\r\n        x.c = [];\r\n\r\n        // Transform base\r\n\r\n        // e is the base 10 exponent.\r\n        // i is where to slice str to get the first element of the coefficient array.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n        if (i < len) {\r\n          if (i) x.c.push(+str.slice(0, i));\r\n\r\n          for (len -= LOG_BASE; i < len;) {\r\n            x.c.push(+str.slice(i, i += LOG_BASE));\r\n          }\r\n\r\n          i = LOG_BASE - (str = str.slice(i)).length;\r\n        } else {\r\n          i -= len;\r\n        }\r\n\r\n        for (; i--; str += '0');\r\n        x.c.push(+str);\r\n      }\r\n    } else {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    }\r\n  }\r\n\r\n\r\n  // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n  BigNumber.clone = clone;\r\n\r\n  BigNumber.ROUND_UP = 0;\r\n  BigNumber.ROUND_DOWN = 1;\r\n  BigNumber.ROUND_CEIL = 2;\r\n  BigNumber.ROUND_FLOOR = 3;\r\n  BigNumber.ROUND_HALF_UP = 4;\r\n  BigNumber.ROUND_HALF_DOWN = 5;\r\n  BigNumber.ROUND_HALF_EVEN = 6;\r\n  BigNumber.ROUND_HALF_CEIL = 7;\r\n  BigNumber.ROUND_HALF_FLOOR = 8;\r\n  BigNumber.EUCLID = 9;\r\n\r\n\r\n  /*\r\n   * Configure infrequently-changing library-wide settings.\r\n   *\r\n   * Accept an object with the following optional properties (if the value of a property is\r\n   * a number, it must be an integer within the inclusive range stated):\r\n   *\r\n   *   DECIMAL_PLACES   {number}           0 to MAX\r\n   *   ROUNDING_MODE    {number}           0 to 8\r\n   *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n   *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n   *   CRYPTO           {boolean}          true or false\r\n   *   MODULO_MODE      {number}           0 to 9\r\n   *   POW_PRECISION       {number}           0 to MAX\r\n   *   ALPHABET         {string}           A string of two or more unique characters which does\r\n   *                                     not contain '.'.\r\n   *   FORMAT           {object}           An object with some of the following properties:\r\n   *     prefix                 {string}\r\n   *     groupSize              {number}\r\n   *     secondaryGroupSize     {number}\r\n   *     groupSeparator         {string}\r\n   *     decimalSeparator       {string}\r\n   *     fractionGroupSize      {number}\r\n   *     fractionGroupSeparator {string}\r\n   *     suffix                 {string}\r\n   *\r\n   * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n   *\r\n   * E.g.\r\n   * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n   *\r\n   * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n   *\r\n   * Return an object with the properties current values.\r\n   */\r\n  BigNumber.config = BigNumber.set = function (obj) {\r\n    var p, v;\r\n\r\n    if (obj != null) {\r\n\r\n      if (typeof obj == 'object') {\r\n\r\n        // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          DECIMAL_PLACES = v;\r\n        }\r\n\r\n        // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n        // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 8, p);\r\n          ROUNDING_MODE = v;\r\n        }\r\n\r\n        // EXPONENTIAL_AT {number|number[]}\r\n        // Integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n        // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, 0, p);\r\n            intCheck(v[1], 0, MAX, p);\r\n            TO_EXP_NEG = v[0];\r\n            TO_EXP_POS = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n          }\r\n        }\r\n\r\n        // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n        // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n        if (obj.hasOwnProperty(p = 'RANGE')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, -1, p);\r\n            intCheck(v[1], 1, MAX, p);\r\n            MIN_EXP = v[0];\r\n            MAX_EXP = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            if (v) {\r\n              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' cannot be zero: ' + v);\r\n            }\r\n          }\r\n        }\r\n\r\n        // CRYPTO {boolean} true or false.\r\n        // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n        // '[BigNumber Error] crypto unavailable'\r\n        if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n          v = obj[p];\r\n          if (v === !!v) {\r\n            if (v) {\r\n              if (typeof crypto != 'undefined' && crypto &&\r\n               (crypto.getRandomValues || crypto.randomBytes)) {\r\n                CRYPTO = v;\r\n              } else {\r\n                CRYPTO = !v;\r\n                throw Error\r\n                 (bignumberError + 'crypto unavailable');\r\n              }\r\n            } else {\r\n              CRYPTO = v;\r\n            }\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' not true or false: ' + v);\r\n          }\r\n        }\r\n\r\n        // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n        // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 9, p);\r\n          MODULO_MODE = v;\r\n        }\r\n\r\n        // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          POW_PRECISION = v;\r\n        }\r\n\r\n        // FORMAT {object}\r\n        // '[BigNumber Error] FORMAT not an object: {v}'\r\n        if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n          v = obj[p];\r\n          if (typeof v == 'object') FORMAT = v;\r\n          else throw Error\r\n           (bignumberError + p + ' not an object: ' + v);\r\n        }\r\n\r\n        // ALPHABET {string}\r\n        // '[BigNumber Error] ALPHABET invalid: {v}'\r\n        if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n          v = obj[p];\r\n\r\n          // Disallow if only one character,\r\n          // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n          if (typeof v == 'string' && !/^.$|[+-.\\s]|(.).*\\1/.test(v)) {\r\n            ALPHABET = v;\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' invalid: ' + v);\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Object expected: {v}'\r\n        throw Error\r\n         (bignumberError + 'Object expected: ' + obj);\r\n      }\r\n    }\r\n\r\n    return {\r\n      DECIMAL_PLACES: DECIMAL_PLACES,\r\n      ROUNDING_MODE: ROUNDING_MODE,\r\n      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n      RANGE: [MIN_EXP, MAX_EXP],\r\n      CRYPTO: CRYPTO,\r\n      MODULO_MODE: MODULO_MODE,\r\n      POW_PRECISION: POW_PRECISION,\r\n      FORMAT: FORMAT,\r\n      ALPHABET: ALPHABET\r\n    };\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if v is a BigNumber instance, otherwise return false.\r\n   *\r\n   * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n   *\r\n   * v {any}\r\n   *\r\n   * '[BigNumber Error] Invalid BigNumber: {v}'\r\n   */\r\n  BigNumber.isBigNumber = function (v) {\r\n    if (!v || v._isBigNumber !== true) return false;\r\n    if (!BigNumber.DEBUG) return true;\r\n\r\n    var i, n,\r\n      c = v.c,\r\n      e = v.e,\r\n      s = v.s;\r\n\r\n    out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n      if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n        // If the first element is zero, the BigNumber value must be zero.\r\n        if (c[0] === 0) {\r\n          if (e === 0 && c.length === 1) return true;\r\n          break out;\r\n        }\r\n\r\n        // Calculate number of digits that c[0] should have, based on the exponent.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (i < 1) i += LOG_BASE;\r\n\r\n        // Calculate number of digits of c[0].\r\n        //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n        if (String(c[0]).length == i) {\r\n\r\n          for (i = 0; i < c.length; i++) {\r\n            n = c[i];\r\n            if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n          }\r\n\r\n          // Last element cannot be zero, unless it is the only element.\r\n          if (n !== 0) return true;\r\n        }\r\n      }\r\n\r\n    // Infinity/NaN\r\n    } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n      return true;\r\n    }\r\n\r\n    throw Error\r\n      (bignumberError + 'Invalid BigNumber: ' + v);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the maximum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.maximum = BigNumber.max = function () {\r\n    return maxOrMin(arguments, P.lt);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the minimum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.minimum = BigNumber.min = function () {\r\n    return maxOrMin(arguments, P.gt);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n   * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n   * zeros are produced).\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n   * '[BigNumber Error] crypto unavailable'\r\n   */\r\n  BigNumber.random = (function () {\r\n    var pow2_53 = 0x20000000000000;\r\n\r\n    // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n    // Check if Math.random() produces more than 32 bits of randomness.\r\n    // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n    // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n    var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n     ? function () { return mathfloor(Math.random() * pow2_53); }\r\n     : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n       (Math.random() * 0x800000 | 0); };\r\n\r\n    return function (dp) {\r\n      var a, b, e, k, v,\r\n        i = 0,\r\n        c = [],\r\n        rand = new BigNumber(ONE);\r\n\r\n      if (dp == null) dp = DECIMAL_PLACES;\r\n      else intCheck(dp, 0, MAX);\r\n\r\n      k = mathceil(dp / LOG_BASE);\r\n\r\n      if (CRYPTO) {\r\n\r\n        // Browsers supporting crypto.getRandomValues.\r\n        if (crypto.getRandomValues) {\r\n\r\n          a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n          for (; i < k;) {\r\n\r\n            // 53 bits:\r\n            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n            //                                     11111 11111111 11111111\r\n            // 0x20000 is 2^21.\r\n            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n            // Rejection sampling:\r\n            // 0 <= v < 9007199254740992\r\n            // Probability that v >= 9e15, is\r\n            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n            if (v >= 9e15) {\r\n              b = crypto.getRandomValues(new Uint32Array(2));\r\n              a[i] = b[0];\r\n              a[i + 1] = b[1];\r\n            } else {\r\n\r\n              // 0 <= v <= 8999999999999999\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 2;\r\n            }\r\n          }\r\n          i = k / 2;\r\n\r\n        // Node.js supporting crypto.randomBytes.\r\n        } else if (crypto.randomBytes) {\r\n\r\n          // buffer\r\n          a = crypto.randomBytes(k *= 7);\r\n\r\n          for (; i < k;) {\r\n\r\n            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n            // 0 <= v < 9007199254740992\r\n            v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n               (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n               (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n            if (v >= 9e15) {\r\n              crypto.randomBytes(7).copy(a, i);\r\n            } else {\r\n\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 7;\r\n            }\r\n          }\r\n          i = k / 7;\r\n        } else {\r\n          CRYPTO = false;\r\n          throw Error\r\n           (bignumberError + 'crypto unavailable');\r\n        }\r\n      }\r\n\r\n      // Use Math.random.\r\n      if (!CRYPTO) {\r\n\r\n        for (; i < k;) {\r\n          v = random53bitInt();\r\n          if (v < 9e15) c[i++] = v % 1e14;\r\n        }\r\n      }\r\n\r\n      k = c[--i];\r\n      dp %= LOG_BASE;\r\n\r\n      // Convert trailing digits to zeros according to dp.\r\n      if (k && dp) {\r\n        v = POWS_TEN[LOG_BASE - dp];\r\n        c[i] = mathfloor(k / v) * v;\r\n      }\r\n\r\n      // Remove trailing elements which are zero.\r\n      for (; c[i] === 0; c.pop(), i--);\r\n\r\n      // Zero?\r\n      if (i < 0) {\r\n        c = [e = 0];\r\n      } else {\r\n\r\n        // Remove leading elements which are zero and adjust exponent accordingly.\r\n        for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n        // Count the digits of the first element of c to determine leading zeros, and...\r\n        for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n        // adjust the exponent accordingly.\r\n        if (i < LOG_BASE) e -= LOG_BASE - i;\r\n      }\r\n\r\n      rand.e = e;\r\n      rand.c = c;\r\n      return rand;\r\n    };\r\n  })();\r\n\r\n\r\n   /*\r\n   * Return a BigNumber whose value is the sum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.sum = function () {\r\n    var i = 1,\r\n      args = arguments,\r\n      sum = new BigNumber(args[0]);\r\n    for (; i < args.length;) sum = sum.plus(args[i++]);\r\n    return sum;\r\n  };\r\n\r\n\r\n  // PRIVATE FUNCTIONS\r\n\r\n\r\n  // Called by BigNumber and BigNumber.prototype.toString.\r\n  convertBase = (function () {\r\n    var decimal = '0123456789';\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n     * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n      var j,\r\n        arr = [0],\r\n        arrL,\r\n        i = 0,\r\n        len = str.length;\r\n\r\n      for (; i < len;) {\r\n        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n        arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n        for (j = 0; j < arr.length; j++) {\r\n\r\n          if (arr[j] > baseOut - 1) {\r\n            if (arr[j + 1] == null) arr[j + 1] = 0;\r\n            arr[j + 1] += arr[j] / baseOut | 0;\r\n            arr[j] %= baseOut;\r\n          }\r\n        }\r\n      }\r\n\r\n      return arr.reverse();\r\n    }\r\n\r\n    // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n    // If the caller is toString, we are converting from base 10 to baseOut.\r\n    // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n    return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n      var alphabet, d, e, k, r, x, xc, y,\r\n        i = str.indexOf('.'),\r\n        dp = DECIMAL_PLACES,\r\n        rm = ROUNDING_MODE;\r\n\r\n      // Non-integer.\r\n      if (i >= 0) {\r\n        k = POW_PRECISION;\r\n\r\n        // Unlimited precision.\r\n        POW_PRECISION = 0;\r\n        str = str.replace('.', '');\r\n        y = new BigNumber(baseIn);\r\n        x = y.pow(str.length - i);\r\n        POW_PRECISION = k;\r\n\r\n        // Convert str as if an integer, then restore the fraction part by dividing the\r\n        // result by its base raised to a power.\r\n\r\n        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n         10, baseOut, decimal);\r\n        y.e = y.c.length;\r\n      }\r\n\r\n      // Convert the number as integer.\r\n\r\n      xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n       ? (alphabet = ALPHABET, decimal)\r\n       : (alphabet = decimal, ALPHABET));\r\n\r\n      // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n      e = k = xc.length;\r\n\r\n      // Remove trailing zeros.\r\n      for (; xc[--k] == 0; xc.pop());\r\n\r\n      // Zero?\r\n      if (!xc[0]) return alphabet.charAt(0);\r\n\r\n      // Does str represent an integer? If so, no need for the division.\r\n      if (i < 0) {\r\n        --e;\r\n      } else {\r\n        x.c = xc;\r\n        x.e = e;\r\n\r\n        // The sign is needed for correct rounding.\r\n        x.s = sign;\r\n        x = div(x, y, dp, rm, baseOut);\r\n        xc = x.c;\r\n        r = x.r;\r\n        e = x.e;\r\n      }\r\n\r\n      // xc now represents str converted to baseOut.\r\n\r\n      // THe index of the rounding digit.\r\n      d = e + dp + 1;\r\n\r\n      // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n      i = xc[d];\r\n\r\n      // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n      k = baseOut / 2;\r\n      r = r || d < 0 || xc[d + 1] != null;\r\n\r\n      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n            : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n      // If the index of the rounding digit is not greater than zero, or xc represents\r\n      // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n      // such as 0.00001.\r\n      if (d < 1 || !xc[0]) {\r\n\r\n        // 1^-dp or 0\r\n        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n      } else {\r\n\r\n        // Truncate xc to the required number of decimal places.\r\n        xc.length = d;\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up and so on.\r\n          for (--baseOut; ++xc[--d] > baseOut;) {\r\n            xc[d] = 0;\r\n\r\n            if (!d) {\r\n              ++e;\r\n              xc = [1].concat(xc);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for (k = xc.length; !xc[--k];);\r\n\r\n        // E.g. [4, 11, 15] becomes 4bf.\r\n        for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n        // Add leading zeros, decimal point and trailing zeros as required.\r\n        str = toFixedPoint(str, e, alphabet.charAt(0));\r\n      }\r\n\r\n      // The caller will add the sign.\r\n      return str;\r\n    };\r\n  })();\r\n\r\n\r\n  // Perform division in the specified base. Called by div and convertBase.\r\n  div = (function () {\r\n\r\n    // Assume non-zero x and k.\r\n    function multiply(x, k, base) {\r\n      var m, temp, xlo, xhi,\r\n        carry = 0,\r\n        i = x.length,\r\n        klo = k % SQRT_BASE,\r\n        khi = k / SQRT_BASE | 0;\r\n\r\n      for (x = x.slice(); i--;) {\r\n        xlo = x[i] % SQRT_BASE;\r\n        xhi = x[i] / SQRT_BASE | 0;\r\n        m = khi * xlo + xhi * klo;\r\n        temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n        x[i] = temp % base;\r\n      }\r\n\r\n      if (carry) x = [carry].concat(x);\r\n\r\n      return x;\r\n    }\r\n\r\n    function compare(a, b, aL, bL) {\r\n      var i, cmp;\r\n\r\n      if (aL != bL) {\r\n        cmp = aL > bL ? 1 : -1;\r\n      } else {\r\n\r\n        for (i = cmp = 0; i < aL; i++) {\r\n\r\n          if (a[i] != b[i]) {\r\n            cmp = a[i] > b[i] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return cmp;\r\n    }\r\n\r\n    function subtract(a, b, aL, base) {\r\n      var i = 0;\r\n\r\n      // Subtract b from a.\r\n      for (; aL--;) {\r\n        a[aL] -= i;\r\n        i = a[aL] < b[aL] ? 1 : 0;\r\n        a[aL] = i * base + a[aL] - b[aL];\r\n      }\r\n\r\n      // Remove leading zeros.\r\n      for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n    }\r\n\r\n    // x: dividend, y: divisor.\r\n    return function (x, y, dp, rm, base) {\r\n      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n        yL, yz,\r\n        s = x.s == y.s ? 1 : -1,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n        return new BigNumber(\r\n\r\n         // Return NaN if either NaN, or both Infinity or 0.\r\n         !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n          // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n          xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n       );\r\n      }\r\n\r\n      q = new BigNumber(s);\r\n      qc = q.c = [];\r\n      e = x.e - y.e;\r\n      s = dp + e + 1;\r\n\r\n      if (!base) {\r\n        base = BASE;\r\n        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n        s = s / LOG_BASE | 0;\r\n      }\r\n\r\n      // Result exponent may be one less then the current value of e.\r\n      // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n      for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n      if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n      if (s < 0) {\r\n        qc.push(1);\r\n        more = true;\r\n      } else {\r\n        xL = xc.length;\r\n        yL = yc.length;\r\n        i = 0;\r\n        s += 2;\r\n\r\n        // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n        n = mathfloor(base / (yc[0] + 1));\r\n\r\n        // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n        // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n        if (n > 1) {\r\n          yc = multiply(yc, n, base);\r\n          xc = multiply(xc, n, base);\r\n          yL = yc.length;\r\n          xL = xc.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xc.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL; rem[remL++] = 0);\r\n        yz = yc.slice();\r\n        yz = [0].concat(yz);\r\n        yc0 = yc[0];\r\n        if (yc[1] >= base / 2) yc0++;\r\n        // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n        // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n        do {\r\n          n = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yc, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, n.\r\n\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // n is how many times the divisor goes into the current remainder.\r\n            n = mathfloor(rem0 / yc0);\r\n\r\n            //  Algorithm:\r\n            //  product = divisor multiplied by trial digit (n).\r\n            //  Compare product and remainder.\r\n            //  If product is greater than remainder:\r\n            //    Subtract divisor from product, decrement trial digit.\r\n            //  Subtract product from remainder.\r\n            //  If product was less than remainder at the last compare:\r\n            //    Compare new remainder and divisor.\r\n            //    If remainder is greater than divisor:\r\n            //      Subtract divisor from remainder, increment trial digit.\r\n\r\n            if (n > 1) {\r\n\r\n              // n may be > base only when base is 3.\r\n              if (n >= base) n = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiply(yc, n, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              // If product > remainder then trial digit n too high.\r\n              // n is 1 too high about 5% of the time, and is not known to have\r\n              // ever been more than 1 too high.\r\n              while (compare(prod, rem, prodL, remL) == 1) {\r\n                n--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                prodL = prod.length;\r\n                cmp = 1;\r\n              }\r\n            } else {\r\n\r\n              // n is 0 or 1, cmp is -1.\r\n              // If n is 0, there is no need to compare yc and rem again below,\r\n              // so change cmp to 1 to avoid it.\r\n              // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n              if (n == 0) {\r\n\r\n                // divisor < remainder, so n must be at least 1.\r\n                cmp = n = 1;\r\n              }\r\n\r\n              // product = divisor\r\n              prod = yc.slice();\r\n              prodL = prod.length;\r\n            }\r\n\r\n            if (prodL < remL) prod = [0].concat(prod);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n            remL = rem.length;\r\n\r\n             // If product was < remainder.\r\n            if (cmp == -1) {\r\n\r\n              // Compare divisor and new remainder.\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              // Trial digit n too low.\r\n              // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n              while (compare(yc, rem, yL, remL) < 1) {\r\n                n++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                remL = rem.length;\r\n              }\r\n            }\r\n          } else if (cmp === 0) {\r\n            n++;\r\n            rem = [0];\r\n          } // else cmp === 1 and n will be 0\r\n\r\n          // Add the next digit, n, to the result array.\r\n          qc[i++] = n;\r\n\r\n          // Update the remainder.\r\n          if (rem[0]) {\r\n            rem[remL++] = xc[xi] || 0;\r\n          } else {\r\n            rem = [xc[xi]];\r\n            remL = 1;\r\n          }\r\n        } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n        more = rem[0] != null;\r\n\r\n        // Leading zero?\r\n        if (!qc[0]) qc.splice(0, 1);\r\n      }\r\n\r\n      if (base == BASE) {\r\n\r\n        // To calculate q.e, first get the number of digits of qc[0].\r\n        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n      // Caller is convertBase.\r\n      } else {\r\n        q.e = e;\r\n        q.r = +more;\r\n      }\r\n\r\n      return q;\r\n    };\r\n  })();\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n   * notation rounded to the specified decimal places or significant digits.\r\n   *\r\n   * n: a BigNumber.\r\n   * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n   * rm: the rounding mode.\r\n   * id: 1 (toExponential) or 2 (toPrecision).\r\n   */\r\n  function format(n, i, rm, id) {\r\n    var c0, e, ne, len, str;\r\n\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n\r\n    if (!n.c) return n.toString();\r\n\r\n    c0 = n.c[0];\r\n    ne = n.e;\r\n\r\n    if (i == null) {\r\n      str = coeffToString(n.c);\r\n      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n       ? toExponential(str, ne)\r\n       : toFixedPoint(str, ne, '0');\r\n    } else {\r\n      n = round(new BigNumber(n), i, rm);\r\n\r\n      // n.e may have changed if the value was rounded up.\r\n      e = n.e;\r\n\r\n      str = coeffToString(n.c);\r\n      len = str.length;\r\n\r\n      // toPrecision returns exponential notation if the number of significant digits\r\n      // specified is less than the number of digits necessary to represent the integer\r\n      // part of the value in fixed-point notation.\r\n\r\n      // Exponential notation.\r\n      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n        // Append zeros?\r\n        for (; len < i; str += '0', len++);\r\n        str = toExponential(str, e);\r\n\r\n      // Fixed-point notation.\r\n      } else {\r\n        i -= ne;\r\n        str = toFixedPoint(str, e, '0');\r\n\r\n        // Append zeros?\r\n        if (e + 1 > len) {\r\n          if (--i > 0) for (str += '.'; i--; str += '0');\r\n        } else {\r\n          i += e - len;\r\n          if (i > 0) {\r\n            if (e + 1 == len) str += '.';\r\n            for (; i--; str += '0');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n.s < 0 && c0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // Handle BigNumber.max and BigNumber.min.\r\n  function maxOrMin(args, method) {\r\n    var n,\r\n      i = 1,\r\n      m = new BigNumber(args[0]);\r\n\r\n    for (; i < args.length; i++) {\r\n      n = new BigNumber(args[i]);\r\n\r\n      // If any number is NaN, return NaN.\r\n      if (!n.s) {\r\n        m = n;\r\n        break;\r\n      } else if (method.call(m, n)) {\r\n        m = n;\r\n      }\r\n    }\r\n\r\n    return m;\r\n  }\r\n\r\n\r\n  /*\r\n   * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n   * Called by minus, plus and times.\r\n   */\r\n  function normalise(n, c, e) {\r\n    var i = 1,\r\n      j = c.length;\r\n\r\n     // Remove trailing zeros.\r\n    for (; !c[--j]; c.pop());\r\n\r\n    // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n    for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n    // Overflow?\r\n    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n      // Infinity.\r\n      n.c = n.e = null;\r\n\r\n    // Underflow?\r\n    } else if (e < MIN_EXP) {\r\n\r\n      // Zero.\r\n      n.c = [n.e = 0];\r\n    } else {\r\n      n.e = e;\r\n      n.c = c;\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n\r\n  // Handle values that fail the validity test in BigNumber.\r\n  parseNumeric = (function () {\r\n    var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n      dotAfter = /^([^.]+)\\.$/,\r\n      dotBefore = /^\\.([^.]+)$/,\r\n      isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n      whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n    return function (x, str, isNum, b) {\r\n      var base,\r\n        s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n      // No exception on ±Infinity or NaN.\r\n      if (isInfinityOrNaN.test(s)) {\r\n        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n      } else {\r\n        if (!isNum) {\r\n\r\n          // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n          s = s.replace(basePrefix, function (m, p1, p2) {\r\n            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n            return !b || b == base ? p1 : m;\r\n          });\r\n\r\n          if (b) {\r\n            base = b;\r\n\r\n            // E.g. '1.' to '1', '.1' to '0.1'\r\n            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n          }\r\n\r\n          if (str != s) return new BigNumber(s, base);\r\n        }\r\n\r\n        // '[BigNumber Error] Not a number: {n}'\r\n        // '[BigNumber Error] Not a base {b} number: {n}'\r\n        if (BigNumber.DEBUG) {\r\n          throw Error\r\n            (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n        }\r\n\r\n        // NaN\r\n        x.s = null;\r\n      }\r\n\r\n      x.c = x.e = null;\r\n    }\r\n  })();\r\n\r\n\r\n  /*\r\n   * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n   * If r is truthy, it is known that there are more digits after the rounding digit.\r\n   */\r\n  function round(x, sd, rm, r) {\r\n    var d, i, j, k, n, ni, rd,\r\n      xc = x.c,\r\n      pows10 = POWS_TEN;\r\n\r\n    // if x is not Infinity or NaN...\r\n    if (xc) {\r\n\r\n      // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n      // ni is the index of n within x.c.\r\n      // d is the number of digits of n.\r\n      // i is the index of rd within n including leading zeros.\r\n      // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n      out: {\r\n\r\n        // Get the number of digits of the first element of xc.\r\n        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n        i = sd - d;\r\n\r\n        // If the rounding digit is in the first element of xc...\r\n        if (i < 0) {\r\n          i += LOG_BASE;\r\n          j = sd;\r\n          n = xc[ni = 0];\r\n\r\n          // Get the rounding digit at index j of n.\r\n          rd = n / pows10[d - j - 1] % 10 | 0;\r\n        } else {\r\n          ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n          if (ni >= xc.length) {\r\n\r\n            if (r) {\r\n\r\n              // Needed by sqrt.\r\n              for (; xc.length <= ni; xc.push(0));\r\n              n = rd = 0;\r\n              d = 1;\r\n              i %= LOG_BASE;\r\n              j = i - LOG_BASE + 1;\r\n            } else {\r\n              break out;\r\n            }\r\n          } else {\r\n            n = k = xc[ni];\r\n\r\n            // Get the number of digits of n.\r\n            for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n            // Get the index of rd within n.\r\n            i %= LOG_BASE;\r\n\r\n            // Get the index of rd within n, adjusted for leading zeros.\r\n            // The number of leading zeros of n is given by LOG_BASE - d.\r\n            j = i - LOG_BASE + d;\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;\r\n          }\r\n        }\r\n\r\n        r = r || sd < 0 ||\r\n\r\n        // Are there any non-zero digits after the rounding digit?\r\n        // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n        // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n         xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n        r = rm < 4\r\n         ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n         : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n          // Check whether the digit to the left of the rounding digit is odd.\r\n          ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n           rm == (x.s < 0 ? 8 : 7));\r\n\r\n        if (sd < 1 || !xc[0]) {\r\n          xc.length = 0;\r\n\r\n          if (r) {\r\n\r\n            // Convert sd to decimal places.\r\n            sd -= x.e + 1;\r\n\r\n            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n            x.e = -sd || 0;\r\n          } else {\r\n\r\n            // Zero.\r\n            xc[0] = x.e = 0;\r\n          }\r\n\r\n          return x;\r\n        }\r\n\r\n        // Remove excess digits.\r\n        if (i == 0) {\r\n          xc.length = ni;\r\n          k = 1;\r\n          ni--;\r\n        } else {\r\n          xc.length = ni + 1;\r\n          k = pows10[LOG_BASE - i];\r\n\r\n          // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n          // j > 0 means i > number of leading zeros of n.\r\n          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n        }\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          for (; ;) {\r\n\r\n            // If the digit to be rounded up is in the first element of xc...\r\n            if (ni == 0) {\r\n\r\n              // i will be the length of xc[0] before k is added.\r\n              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n              j = xc[0] += k;\r\n              for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n              // if i != k the length has increased.\r\n              if (i != k) {\r\n                x.e++;\r\n                if (xc[0] == BASE) xc[0] = 1;\r\n              }\r\n\r\n              break;\r\n            } else {\r\n              xc[ni] += k;\r\n              if (xc[ni] != BASE) break;\r\n              xc[ni--] = 0;\r\n              k = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; xc[--i] === 0; xc.pop());\r\n      }\r\n\r\n      // Overflow? Infinity.\r\n      if (x.e > MAX_EXP) {\r\n        x.c = x.e = null;\r\n\r\n      // Underflow? Zero.\r\n      } else if (x.e < MIN_EXP) {\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  function valueOf(n) {\r\n    var str,\r\n      e = n.e;\r\n\r\n    if (e === null) return n.toString();\r\n\r\n    str = coeffToString(n.c);\r\n\r\n    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n      ? toExponential(str, e)\r\n      : toFixedPoint(str, e, '0');\r\n\r\n    return n.s < 0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n   */\r\n  P.absoluteValue = P.abs = function () {\r\n    var x = new BigNumber(this);\r\n    if (x.s < 0) x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return\r\n   *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   *   0 if they have the same value,\r\n   *   or null if the value of either is NaN.\r\n   */\r\n  P.comparedTo = function (y, b) {\r\n    return compare(this, new BigNumber(y, b));\r\n  };\r\n\r\n\r\n  /*\r\n   * If dp is undefined or null or true or false, return the number of decimal places of the\r\n   * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   *\r\n   * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.decimalPlaces = P.dp = function (dp, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), dp + x.e + 1, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last number.\r\n    if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n    if (n < 0) n = 0;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n / 0 = I\r\n   *  n / N = N\r\n   *  n / I = 0\r\n   *  0 / n = 0\r\n   *  0 / 0 = N\r\n   *  0 / N = N\r\n   *  0 / I = 0\r\n   *  N / n = N\r\n   *  N / 0 = N\r\n   *  N / N = N\r\n   *  N / I = N\r\n   *  I / n = I\r\n   *  I / 0 = I\r\n   *  I / N = N\r\n   *  I / I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n   * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.dividedBy = P.div = function (y, b) {\r\n    return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n   * BigNumber by the value of BigNumber(y, b).\r\n   */\r\n  P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n    return div(this, new BigNumber(y, b), 0, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n   *\r\n   * If m is present, return the result modulo m.\r\n   * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n   *\r\n   * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n   * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n   *\r\n   * n {number|string|BigNumber} The exponent. An integer.\r\n   * [m] {number|string|BigNumber} The modulus.\r\n   *\r\n   * '[BigNumber Error] Exponent not an integer: {n}'\r\n   */\r\n  P.exponentiatedBy = P.pow = function (n, m) {\r\n    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n      x = this;\r\n\r\n    n = new BigNumber(n);\r\n\r\n    // Allow NaN and ±Infinity, but not other non-integers.\r\n    if (n.c && !n.isInteger()) {\r\n      throw Error\r\n        (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n    }\r\n\r\n    if (m != null) m = new BigNumber(m);\r\n\r\n    // Exponent of MAX_SAFE_INTEGER is 15.\r\n    nIsBig = n.e > 14;\r\n\r\n    // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.\r\n    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n      // The sign of the result of pow when x is negative depends on the evenness of n.\r\n      // If +n overflows to ±Infinity, the evenness of n would be not be known.\r\n      y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? 2 - isOdd(n) : +valueOf(n)));\r\n      return m ? y.mod(m) : y;\r\n    }\r\n\r\n    nIsNeg = n.s < 0;\r\n\r\n    if (m) {\r\n\r\n      // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n      if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n      isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n      if (isModExp) x = x.mod(m);\r\n\r\n    // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n    // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.\r\n    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n      // [1, 240000000]\r\n      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n      // [80000000000000]  [99999750000000]\r\n      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n      // If x is negative and n is odd, k = -0, else k = 0.\r\n      k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n      // If x >= 1, k = ±Infinity.\r\n      if (x.e > -1) k = 1 / k;\r\n\r\n      // If n is negative return ±0, else return ±Infinity.\r\n      return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n    } else if (POW_PRECISION) {\r\n\r\n      // Truncating each coefficient array to a length of k after each multiplication\r\n      // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n      // i.e. there will be a minimum of 28 guard digits retained.\r\n      k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n    }\r\n\r\n    if (nIsBig) {\r\n      half = new BigNumber(0.5);\r\n      if (nIsNeg) n.s = 1;\r\n      nIsOdd = isOdd(n);\r\n    } else {\r\n      i = Math.abs(+valueOf(n));\r\n      nIsOdd = i % 2;\r\n    }\r\n\r\n    y = new BigNumber(ONE);\r\n\r\n    // Performs 54 loop iterations for n of 9007199254740991.\r\n    for (; ;) {\r\n\r\n      if (nIsOdd) {\r\n        y = y.times(x);\r\n        if (!y.c) break;\r\n\r\n        if (k) {\r\n          if (y.c.length > k) y.c.length = k;\r\n        } else if (isModExp) {\r\n          y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (i) {\r\n        i = mathfloor(i / 2);\r\n        if (i === 0) break;\r\n        nIsOdd = i % 2;\r\n      } else {\r\n        n = n.times(half);\r\n        round(n, n.e + 1, 1);\r\n\r\n        if (n.e > 14) {\r\n          nIsOdd = isOdd(n);\r\n        } else {\r\n          i = +valueOf(n);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        }\r\n      }\r\n\r\n      x = x.times(x);\r\n\r\n      if (k) {\r\n        if (x.c && x.c.length > k) x.c.length = k;\r\n      } else if (isModExp) {\r\n        x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n      }\r\n    }\r\n\r\n    if (isModExp) return y;\r\n    if (nIsNeg) y = ONE.div(y);\r\n\r\n    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n   * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n   */\r\n  P.integerValue = function (rm) {\r\n    var n = new BigNumber(this);\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n    return round(n, n.e + 1, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isEqualTo = P.eq = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n   */\r\n  P.isFinite = function () {\r\n    return !!this.c;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isGreaterThan = P.gt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n   */\r\n  P.isInteger = function () {\r\n    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isLessThan = P.lt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n   */\r\n  P.isNaN = function () {\r\n    return !this.s;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is negative, otherwise return false.\r\n   */\r\n  P.isNegative = function () {\r\n    return this.s < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is positive, otherwise return false.\r\n   */\r\n  P.isPositive = function () {\r\n    return this.s > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n   */\r\n  P.isZero = function () {\r\n    return !!this.c && this.c[0] == 0;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n - 0 = n\r\n   *  n - N = N\r\n   *  n - I = -I\r\n   *  0 - n = -n\r\n   *  0 - 0 = 0\r\n   *  0 - N = N\r\n   *  0 - I = -I\r\n   *  N - n = N\r\n   *  N - 0 = N\r\n   *  N - N = N\r\n   *  N - I = N\r\n   *  I - n = I\r\n   *  I - 0 = I\r\n   *  I - N = N\r\n   *  I - I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.minus = function (y, b) {\r\n    var i, j, t, xLTy,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Either Infinity?\r\n      if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n      // Either zero?\r\n      if (!xc[0] || !yc[0]) {\r\n\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n         // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n         ROUNDING_MODE == 3 ? -0 : 0);\r\n      }\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Determine which is the bigger number.\r\n    if (a = xe - ye) {\r\n\r\n      if (xLTy = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n\r\n      // Prepend zeros to equalise exponents.\r\n      for (b = a; b--; t.push(0));\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n\r\n        if (xc[b] != yc[b]) {\r\n          xLTy = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;\r\n\r\n    b = (j = yc.length) - (i = xc.length);\r\n\r\n    // Append zeros to xc if shorter.\r\n    // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n    if (b > 0) for (; b--; xc[i++] = 0);\r\n    b = BASE - 1;\r\n\r\n    // Subtract yc from xc.\r\n    for (; j > a;) {\r\n\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i]; xc[i] = b);\r\n        --xc[i];\r\n        xc[j] += BASE;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n    // Zero?\r\n    if (!xc[0]) {\r\n\r\n      // Following IEEE 754 (2008) 6.3,\r\n      // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n      y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n      y.c = [y.e = 0];\r\n      return y;\r\n    }\r\n\r\n    // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n    // for finite x and y.\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   *   n % 0 =  N\r\n   *   n % N =  N\r\n   *   n % I =  n\r\n   *   0 % n =  0\r\n   *  -0 % n = -0\r\n   *   0 % 0 =  N\r\n   *   0 % N =  N\r\n   *   0 % I =  0\r\n   *   N % n =  N\r\n   *   N % 0 =  N\r\n   *   N % N =  N\r\n   *   N % I =  N\r\n   *   I % n =  N\r\n   *   I % 0 =  N\r\n   *   I % N =  N\r\n   *   I % I =  N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n   * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n   */\r\n  P.modulo = P.mod = function (y, b) {\r\n    var q, s,\r\n      x = this;\r\n\r\n    y = new BigNumber(y, b);\r\n\r\n    // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n    if (!x.c || !y.s || y.c && !y.c[0]) {\r\n      return new BigNumber(NaN);\r\n\r\n    // Return x if y is Infinity or x is zero.\r\n    } else if (!y.c || x.c && !x.c[0]) {\r\n      return new BigNumber(x);\r\n    }\r\n\r\n    if (MODULO_MODE == 9) {\r\n\r\n      // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n      // r = x - qy    where  0 <= r < abs(y)\r\n      s = y.s;\r\n      y.s = 1;\r\n      q = div(x, y, 0, 3);\r\n      y.s = s;\r\n      q.s *= s;\r\n    } else {\r\n      q = div(x, y, 0, MODULO_MODE);\r\n    }\r\n\r\n    y = x.minus(q.times(y));\r\n\r\n    // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n    if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n * 0 = 0\r\n   *  n * N = N\r\n   *  n * I = I\r\n   *  0 * n = 0\r\n   *  0 * 0 = 0\r\n   *  0 * N = N\r\n   *  0 * I = N\r\n   *  N * n = N\r\n   *  N * 0 = N\r\n   *  N * N = N\r\n   *  N * I = N\r\n   *  I * n = I\r\n   *  I * 0 = N\r\n   *  I * N = N\r\n   *  I * I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n   * of BigNumber(y, b).\r\n   */\r\n  P.multipliedBy = P.times = function (y, b) {\r\n    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n      base, sqrtBase,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new BigNumber(y, b)).c;\r\n\r\n    // Either NaN, ±Infinity or ±0?\r\n    if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n      // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n        y.c = y.e = y.s = null;\r\n      } else {\r\n        y.s *= x.s;\r\n\r\n        // Return ±Infinity if either is ±Infinity.\r\n        if (!xc || !yc) {\r\n          y.c = y.e = null;\r\n\r\n        // Return ±0 if either is ±0.\r\n        } else {\r\n          y.c = [0];\r\n          y.e = 0;\r\n        }\r\n      }\r\n\r\n      return y;\r\n    }\r\n\r\n    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n    y.s *= x.s;\r\n    xcL = xc.length;\r\n    ycL = yc.length;\r\n\r\n    // Ensure xc points to longer array and xcL to its length.\r\n    if (xcL < ycL) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;\r\n\r\n    // Initialise the result array with zeros.\r\n    for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n    base = BASE;\r\n    sqrtBase = SQRT_BASE;\r\n\r\n    for (i = ycL; --i >= 0;) {\r\n      c = 0;\r\n      ylo = yc[i] % sqrtBase;\r\n      yhi = yc[i] / sqrtBase | 0;\r\n\r\n      for (k = xcL, j = i + k; j > i;) {\r\n        xlo = xc[--k] % sqrtBase;\r\n        xhi = xc[k] / sqrtBase | 0;\r\n        m = yhi * xlo + xhi * ylo;\r\n        xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n        zc[j--] = xlo % base;\r\n      }\r\n\r\n      zc[j] = c;\r\n    }\r\n\r\n    if (c) {\r\n      ++e;\r\n    } else {\r\n      zc.splice(0, 1);\r\n    }\r\n\r\n    return normalise(y, zc, e);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n   * i.e. multiplied by -1.\r\n   */\r\n  P.negated = function () {\r\n    var x = new BigNumber(this);\r\n    x.s = -x.s || null;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n + 0 = n\r\n   *  n + N = N\r\n   *  n + I = I\r\n   *  0 + n = n\r\n   *  0 + 0 = 0\r\n   *  0 + N = N\r\n   *  0 + I = I\r\n   *  N + n = N\r\n   *  N + 0 = N\r\n   *  N + N = N\r\n   *  N + I = N\r\n   *  I + n = I\r\n   *  I + 0 = I\r\n   *  I + N = N\r\n   *  I + I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.plus = function (y, b) {\r\n    var t,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n     if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Return ±Infinity if either ±Infinity.\r\n      if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n      // Either zero?\r\n      // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n      if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--; t.push(0));\r\n      t.reverse();\r\n    }\r\n\r\n    a = xc.length;\r\n    b = yc.length;\r\n\r\n    // Point xc to the longer array, and b to the shorter length.\r\n    if (a - b < 0) t = yc, yc = xc, xc = t, b = a;\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n    for (a = 0; b;) {\r\n      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n    }\r\n\r\n    if (a) {\r\n      xc = [a].concat(xc);\r\n      ++ye;\r\n    }\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n    // ye = MAX_EXP + 1 possible\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   * If sd is undefined or null or true or false, return the number of significant digits of\r\n   * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   * If sd is true include integer-part trailing zeros in the count.\r\n   *\r\n   * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n   *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.precision = P.sd = function (sd, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (sd != null && sd !== !!sd) {\r\n      intCheck(sd, 1, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), sd, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    v = c.length - 1;\r\n    n = v * LOG_BASE + 1;\r\n\r\n    if (v = c[v]) {\r\n\r\n      // Subtract the number of trailing zeros of the last element.\r\n      for (; v % 10 == 0; v /= 10, n--);\r\n\r\n      // Add the number of digits of the first element.\r\n      for (v = c[0]; v >= 10; v /= 10, n++);\r\n    }\r\n\r\n    if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n   * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n   *\r\n   * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n   */\r\n  P.shiftedBy = function (k) {\r\n    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n    return this.times('1e' + k);\r\n  };\r\n\r\n\r\n  /*\r\n   *  sqrt(-n) =  N\r\n   *  sqrt(N) =  N\r\n   *  sqrt(-I) =  N\r\n   *  sqrt(I) =  I\r\n   *  sqrt(0) =  0\r\n   *  sqrt(-0) = -0\r\n   *\r\n   * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n   * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.squareRoot = P.sqrt = function () {\r\n    var m, n, r, rep, t,\r\n      x = this,\r\n      c = x.c,\r\n      s = x.s,\r\n      e = x.e,\r\n      dp = DECIMAL_PLACES + 4,\r\n      half = new BigNumber('0.5');\r\n\r\n    // Negative/NaN/Infinity/zero?\r\n    if (s !== 1 || !c || !c[0]) {\r\n      return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n    }\r\n\r\n    // Initial estimate.\r\n    s = Math.sqrt(+valueOf(x));\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n    if (s == 0 || s == 1 / 0) {\r\n      n = coeffToString(c);\r\n      if ((n.length + e) % 2 == 0) n += '0';\r\n      s = Math.sqrt(+n);\r\n      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n      if (s == 1 / 0) {\r\n        n = '5e' + e;\r\n      } else {\r\n        n = s.toExponential();\r\n        n = n.slice(0, n.indexOf('e') + 1) + e;\r\n      }\r\n\r\n      r = new BigNumber(n);\r\n    } else {\r\n      r = new BigNumber(s + '');\r\n    }\r\n\r\n    // Check for zero.\r\n    // r could be zero if MIN_EXP is changed after the this value was created.\r\n    // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n    // coeffToString to throw.\r\n    if (r.c[0]) {\r\n      e = r.e;\r\n      s = e + dp;\r\n      if (s < 3) s = 0;\r\n\r\n      // Newton-Raphson iteration.\r\n      for (; ;) {\r\n        t = r;\r\n        r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n          // The exponent of r may here be one less than the final result exponent,\r\n          // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n          // are indexed correctly.\r\n          if (r.e < e) --s;\r\n          n = n.slice(s - 3, s + 1);\r\n\r\n          // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n          // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n          // iteration.\r\n          if (n == '9999' || !rep && n == '4999') {\r\n\r\n            // On the first iteration only, check to see if rounding up gives the\r\n            // exact result as the nines may infinitely repeat.\r\n            if (!rep) {\r\n              round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n              if (t.times(t).eq(x)) {\r\n                r = t;\r\n                break;\r\n              }\r\n            }\r\n\r\n            dp += 4;\r\n            s += 4;\r\n            rep = 1;\r\n          } else {\r\n\r\n            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n            // result. If not, then there are further digits and m will be truthy.\r\n            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n              // Truncate to the first rounding digit.\r\n              round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n              m = !r.times(r).eq(x);\r\n            }\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in exponential notation and\r\n   * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toExponential = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp++;\r\n    }\r\n    return format(this, dp, rm, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n   * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n   * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toFixed = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp = dp + this.e + 1;\r\n    }\r\n    return format(this, dp, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n   * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n   * of the format or FORMAT object (see BigNumber.set).\r\n   *\r\n   * The formatting object may contain some or all of the properties shown below.\r\n   *\r\n   * FORMAT = {\r\n   *   prefix: '',\r\n   *   groupSize: 3,\r\n   *   secondaryGroupSize: 0,\r\n   *   groupSeparator: ',',\r\n   *   decimalSeparator: '.',\r\n   *   fractionGroupSize: 0,\r\n   *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n   *   suffix: ''\r\n   * };\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   * [format] {object} Formatting options. See FORMAT pbject above.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   * '[BigNumber Error] Argument not an object: {format}'\r\n   */\r\n  P.toFormat = function (dp, rm, format) {\r\n    var str,\r\n      x = this;\r\n\r\n    if (format == null) {\r\n      if (dp != null && rm && typeof rm == 'object') {\r\n        format = rm;\r\n        rm = null;\r\n      } else if (dp && typeof dp == 'object') {\r\n        format = dp;\r\n        dp = rm = null;\r\n      } else {\r\n        format = FORMAT;\r\n      }\r\n    } else if (typeof format != 'object') {\r\n      throw Error\r\n        (bignumberError + 'Argument not an object: ' + format);\r\n    }\r\n\r\n    str = x.toFixed(dp, rm);\r\n\r\n    if (x.c) {\r\n      var i,\r\n        arr = str.split('.'),\r\n        g1 = +format.groupSize,\r\n        g2 = +format.secondaryGroupSize,\r\n        groupSeparator = format.groupSeparator || '',\r\n        intPart = arr[0],\r\n        fractionPart = arr[1],\r\n        isNeg = x.s < 0,\r\n        intDigits = isNeg ? intPart.slice(1) : intPart,\r\n        len = intDigits.length;\r\n\r\n      if (g2) i = g1, g1 = g2, g2 = i, len -= i;\r\n\r\n      if (g1 > 0 && len > 0) {\r\n        i = len % g1 || g1;\r\n        intPart = intDigits.substr(0, i);\r\n        for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n        if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n        if (isNeg) intPart = '-' + intPart;\r\n      }\r\n\r\n      str = fractionPart\r\n       ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n        ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n         '$&' + (format.fractionGroupSeparator || ''))\r\n        : fractionPart)\r\n       : intPart;\r\n    }\r\n\r\n    return (format.prefix || '') + str + (format.suffix || '');\r\n  };\r\n\r\n\r\n  /*\r\n   * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n   * fraction with an integer numerator and an integer denominator.\r\n   * The denominator will be a positive non-zero value less than or equal to the specified\r\n   * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n   * the lowest value necessary to represent the number exactly.\r\n   *\r\n   * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n   *\r\n   * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n   */\r\n  P.toFraction = function (md) {\r\n    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n      x = this,\r\n      xc = x.c;\r\n\r\n    if (md != null) {\r\n      n = new BigNumber(md);\r\n\r\n      // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n        throw Error\r\n          (bignumberError + 'Argument ' +\r\n            (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n      }\r\n    }\r\n\r\n    if (!xc) return new BigNumber(x);\r\n\r\n    d = new BigNumber(ONE);\r\n    n1 = d0 = new BigNumber(ONE);\r\n    d1 = n0 = new BigNumber(ONE);\r\n    s = coeffToString(xc);\r\n\r\n    // Determine initial denominator.\r\n    // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n    e = d.e = s.length - x.e - 1;\r\n    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n    md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n    exp = MAX_EXP;\r\n    MAX_EXP = 1 / 0;\r\n    n = new BigNumber(s);\r\n\r\n    // n0 = d1 = 0\r\n    n0.c[0] = 0;\r\n\r\n    for (; ;)  {\r\n      q = div(n, d, 0, 1);\r\n      d2 = d0.plus(q.times(d1));\r\n      if (d2.comparedTo(md) == 1) break;\r\n      d0 = d1;\r\n      d1 = d2;\r\n      n1 = n0.plus(q.times(d2 = n1));\r\n      n0 = d2;\r\n      d = n.minus(q.times(d2 = d));\r\n      n = d2;\r\n    }\r\n\r\n    d2 = div(md.minus(d0), d1, 0, 1);\r\n    n0 = n0.plus(d2.times(n1));\r\n    d0 = d0.plus(d2.times(d1));\r\n    n0.s = n1.s = x.s;\r\n    e = e * 2;\r\n\r\n    // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n        div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n    MAX_EXP = exp;\r\n\r\n    return r;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return the value of this BigNumber converted to a number primitive.\r\n   */\r\n  P.toNumber = function () {\r\n    return +valueOf(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n   * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n   * necessary to represent the integer part of the value in fixed-point notation, then use\r\n   * exponential notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.toPrecision = function (sd, rm) {\r\n    if (sd != null) intCheck(sd, 1, MAX);\r\n    return format(this, sd, rm, 2);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n   * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n   * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n   * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n   * TO_EXP_NEG, return exponential notation.\r\n   *\r\n   * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n   *\r\n   * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n   */\r\n  P.toString = function (b) {\r\n    var str,\r\n      n = this,\r\n      s = n.s,\r\n      e = n.e;\r\n\r\n    // Infinity or NaN?\r\n    if (e === null) {\r\n      if (s) {\r\n        str = 'Infinity';\r\n        if (s < 0) str = '-' + str;\r\n      } else {\r\n        str = 'NaN';\r\n      }\r\n    } else {\r\n      if (b == null) {\r\n        str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n         ? toExponential(coeffToString(n.c), e)\r\n         : toFixedPoint(coeffToString(n.c), e, '0');\r\n      } else if (b === 10) {\r\n        n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n        str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n      } else {\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n        str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n      }\r\n\r\n      if (s < 0 && n.c[0]) str = '-' + str;\r\n    }\r\n\r\n    return str;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return as toString, but do not accept a base argument, and include the minus sign for\r\n   * negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return valueOf(this);\r\n  };\r\n\r\n\r\n  P._isBigNumber = true;\r\n\r\n  P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n  // Node.js v10.12.0+\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n\r\n  if (configObject != null) BigNumber.set(configObject);\r\n\r\n  return BigNumber;\r\n}\r\n\r\n\r\n// PRIVATE HELPER FUNCTIONS\r\n\r\n// These functions don't need access to variables,\r\n// e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\nfunction bitFloor(n) {\r\n  var i = n | 0;\r\n  return n > 0 || n === i ? i : i - 1;\r\n}\r\n\r\n\r\n// Return a coefficient array as a string of base 10 digits.\r\nfunction coeffToString(a) {\r\n  var s, z,\r\n    i = 1,\r\n    j = a.length,\r\n    r = a[0] + '';\r\n\r\n  for (; i < j;) {\r\n    s = a[i++] + '';\r\n    z = LOG_BASE - s.length;\r\n    for (; z--; s = '0' + s);\r\n    r += s;\r\n  }\r\n\r\n  // Determine trailing zeros.\r\n  for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n  return r.slice(0, j + 1 || 1);\r\n}\r\n\r\n\r\n// Compare the value of BigNumbers x and y.\r\nfunction compare(x, y) {\r\n  var a, b,\r\n    xc = x.c,\r\n    yc = y.c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either NaN?\r\n  if (!i || !j) return null;\r\n\r\n  a = xc && !xc[0];\r\n  b = yc && !yc[0];\r\n\r\n  // Either zero?\r\n  if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  a = i < 0;\r\n  b = k == l;\r\n\r\n  // Either Infinity?\r\n  if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n  // Compare exponents.\r\n  if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n}\r\n\r\n\r\n/*\r\n * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n */\r\nfunction intCheck(n, min, max, name) {\r\n  if (n < min || n > max || n !== mathfloor(n)) {\r\n    throw Error\r\n     (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n       ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n       : ' not a primitive number: ') + String(n));\r\n  }\r\n}\r\n\r\n\r\n// Assumes finite n.\r\nfunction isOdd(n) {\r\n  var k = n.c.length - 1;\r\n  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n}\r\n\r\n\r\nfunction toExponential(str, e) {\r\n  return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n   (e < 0 ? 'e' : 'e+') + e;\r\n}\r\n\r\n\r\nfunction toFixedPoint(str, e, z) {\r\n  var len, zs;\r\n\r\n  // Negative exponent?\r\n  if (e < 0) {\r\n\r\n    // Prepend zeros.\r\n    for (zs = z + '.'; ++e; zs += z);\r\n    str = zs + str;\r\n\r\n  // Positive exponent\r\n  } else {\r\n    len = str.length;\r\n\r\n    // Append zeros.\r\n    if (++e > len) {\r\n      for (zs = z, e -= len; --e; zs += z);\r\n      str += zs;\r\n    } else if (e < len) {\r\n      str = str.slice(0, e) + '.' + str.slice(e);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// EXPORT\r\n\r\n\r\nexport var BigNumber = clone();\r\n\r\nexport default BigNumber;\r\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import Parser from './index';\n\nexport interface ITokenTypeOptions {\n  readonly isBinary?: boolean; // 是否为二元元运算符\n  readonly isPrefix?: boolean; // 是否可以作为前缀（一元运算符，仅支持运算符在左侧）\n  readonly precedence?: number; // 运算符优先级\n}\n\nexport class TokenType {\n  /**\n   * Token label\n   */\n  readonly label: string\n  /**\n   * 是否为二元运算符\n   */\n  readonly isBinary: boolean\n  /**\n   * 是否可以作为前缀（一元运算符，仅支持运算符在左侧）\n   */\n  readonly isPrefix: boolean\n  /**\n   * 运算符优先级\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence\n   */\n  readonly precedence: number\n  /**\n   * 读取 Token 时更新上下文\n   */\n  updateContext?: (this: Parser, prevType: TokenType) => void\n\n  /**\n   * constructor\n   * @param label\n   * @param options\n   */\n  constructor(label: string, options: ITokenTypeOptions = {}) {\n    this.label = label;\n    this.isBinary = !!options.isBinary;\n    this.isPrefix = !!options.isPrefix;\n    this.precedence = options.precedence ?? -1;\n  }\n}\n\nexport const tokenTypes = {\n  start: new TokenType('start'),\n  end: new TokenType('end'),\n  parenL: new TokenType('('),\n  parenR: new TokenType(')'),\n  numeric: new TokenType('numeric'),\n  identifier: new TokenType('identifier'),\n  plus: new TokenType('+', {isBinary: true, precedence: 13}),\n  minus: new TokenType('-', {isBinary: true, precedence: 13}),\n  times: new TokenType('*', {isBinary: true, precedence: 14}),\n  div: new TokenType('/', {isBinary: true, precedence: 14}),\n  prefixPlus: new TokenType('+', {isPrefix: true, precedence: 16}),\n  prefixMinus: new TokenType('-', {isPrefix: true, precedence: 16})\n};\n\ntokenTypes.parenL.updateContext = function (): void {\n  this.allowPrefix = true;\n};\ntokenTypes.parenR.updateContext = function (): void {\n  this.allowPrefix = false;\n};\ntokenTypes.numeric.updateContext = function (): void {\n  this.allowPrefix = false;\n};\ntokenTypes.identifier.updateContext = function (): void {\n  this.allowPrefix = false;\n};\n","export type NodeType = ''\n  | 'Expression' | 'BinaryExpression' | 'UnaryExpression'\n  | 'NumericLiteral' | 'Identifier'\n\n/**\n * AST 节点\n */\nexport class Node {\n  type: NodeType\n  start: number\n  end: number\n\n  [key: string]: any\n\n  constructor(start: number) {\n    this.type = '';\n    this.start = start;\n    this.end = start;\n  }\n}\n\n/**\n * 判断数字可能的字符\n * @param code\n */\nexport function isNumericChar(code: number): boolean {\n  return code >= 48 && code <= 57;\n}\n\n/**\n * 判断数字开始字符\n * @param code\n */\nexport function isNumericStart(code: number): boolean {\n  if (code === 46) return true; // `.`\n  return isNumericChar(code); // 0-9\n}\n\n/**\n * 判断标识符开始字符\n * @param code\n */\nexport function isIdentifierStart(code: number): boolean {\n  if (code >= 65 && code <= 90) return true; // A-Z\n  if (code >= 97 && code <= 122) return true; // a-z\n  return false;\n}\n\n/**\n * 判断是标识符开始字符\n * @param code\n */\nexport function isIdentifierChar(code: number): boolean {\n  if (isIdentifierStart(code)) return true;\n  if (isNumericChar(code)) return true; // 0-9\n  if (code === 95) return true; // `_`\n  return false;\n}\n\n/**\n * 返回一个数字的原始数据\n * @param rawValue\n */\nexport function getRealNumeric(rawValue: string): string {\n  let value = rawValue;\n\n  // 去掉数字分割线线\n  const arr: string[] = [];\n  for (let i = 0; i < value.length; i++) {\n    const code = value.charCodeAt(i);\n    if (code !== 95) { // `_`\n      arr.push(value[i]);\n    }\n  }\n  if (arr.length !== value.length) {\n    value = arr.join('');\n  }\n\n  return value;\n}\n","import {TokenType} from './parser/token-type';\nimport {isNumericStart} from './parser/util';\n\nexport type BinaryCalcMethod = (left: string, right: string) => string;\nexport type UnaryCalcMethod = (value: string) => string;\nexport type OperatorMethod = BinaryCalcMethod | UnaryCalcMethod;\n\n// 保留字符\nconst reserved: Readonly<string[]> = ['+', '-', '*', '/', '(', ')'];\n\n/**\n * 注册的所有自定义运算符\n */\nexport const installedOperators: Operator[] = [];\n\n/**\n * 注册自定义运算符\n * @param operator\n */\nexport function useOperator(operator: Operator): void {\n  if (!installedOperators.includes(operator)) {\n    installedOperators.unshift(operator); // 注册相同运算符，保证后面注册的覆盖前面的\n  }\n}\n\n/**\n * 检查参数\n * @param value\n * @param precedence\n */\nfunction checkCreateArgs(value, precedence) {\n  if (typeof value !== 'string' || !/^\\S+$/.test(value)) {\n    throw new Error('The custom operator should be a non-empty string');\n  }\n  if (reserved.includes(value)) {\n    throw new Error(`The custom operator cannot use reserved character, including: ${reserved.join(', ')}`);\n  }\n  if (isNumericStart(value.charCodeAt(0))) { // 0-9, `.`\n    throw new Error('The custom operator cannot start with a possible number, including: `.`, 0-9');\n  }\n  if (value.charCodeAt(0) === 63) { // `?`\n    throw new Error('The custom operator cannot start with `?`');\n  }\n  if (precedence != null && (typeof precedence !== 'number' || precedence < 0)) {\n    throw new Error('The precedence should be a number greater than 0');\n  }\n}\n\n/**\n * 运算符\n */\nexport default class Operator<M extends OperatorMethod = BinaryCalcMethod> {\n  readonly value: string;\n  readonly codes: number[];\n  readonly type: TokenType;\n  readonly calc: M\n\n  constructor(value: string, precedence: number, calc: M, isUnary = false) {\n    this.value = value;\n    this.codes = value.split('').map((_, i) => value.charCodeAt(i));\n    this.type = new TokenType(value, {\n      isBinary: !isUnary,\n      isPrefix: isUnary,\n      precedence,\n    });\n    this.calc = calc;\n  }\n}\n\n\n/**\n * 创建一个二元运算符\n * @param value\n * @param precedence\n * @param calc\n * @see 运算符优先级参考: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence\n */\nexport function createBinaryOperator(value: string, precedence: number, calc: BinaryCalcMethod): Operator {\n  checkCreateArgs(value, precedence);\n  if (typeof calc !== 'function') {\n    throw new Error('Expected to receive a calculation method, like: `(left, right) => String(left - right)`');\n  }\n  return new Operator<BinaryCalcMethod>(value, precedence, calc, false);\n}\n\n/**\n * 创建一个一元运算符\n * @param value\n * @param precedence\n * @param calc\n * * @see 运算符优先级参考: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence\n */\nexport function createUnaryOperator(value: string, precedence: number, calc: UnaryCalcMethod): Operator {\n  checkCreateArgs(value, precedence);\n  if (typeof calc !== 'function') {\n    throw new Error('Expected to receive a calculation method, like: `(value) => String(Math.abs(value))`');\n  }\n  return new Operator<UnaryCalcMethod>(value, precedence, calc, true);\n}\n","import {Node} from './parser/util';\nimport Operator, {installedOperators, UnaryCalcMethod} from './operator';\n\n/**\n * 二元表达式计算方法适配器\n */\nexport interface IAdapter {\n  '+': (left: string, right: string) => string;\n  '-': (left: string, right: string) => string;\n  '*': (left: string, right: string) => string;\n  '/': (left: string, right: string) => string;\n}\n\nlet _adapter: IAdapter = {\n  '+': (left, right) => String(Number(left) + Number(right)),\n  '-': (left, right) => String(Number(left) - Number(right)),\n  '*': (left, right) => String(Number(left) * Number(right)),\n  '/': (left, right) => String(Number(left) / Number(right))\n};\n\n/**\n * 使用指定的计算方法适配器用于计算值\n * @param adapter\n */\nexport function useAdapter(adapter: IAdapter): void {\n  const baseOperators = ['+', '-', '*', '/'];\n  adapter = adapter || ({} as IAdapter);\n  baseOperators.forEach(op => {\n    if (typeof adapter[op] !== 'function') {\n      throw new Error(`Missing method for calculation operator \\`${op}\\``);\n    }\n  });\n  _adapter = adapter;\n}\n\n/**\n * 二元表达式计算\n * @param left\n * @param right\n * @param operator\n */\nexport function binaryCalculation(\n  left: string,\n  right: string,\n  operator: string\n): string {\n  switch (operator) {\n    case '+':\n    case '-':\n    case '*':\n    case '/':\n      return _adapter[operator](left, right);\n    default:\n      for (let i = 0; i < installedOperators.length; i++) {\n        const op = installedOperators[i];\n        if (op.type.isBinary && op.value === operator) {\n          return op.calc(left, right);\n        }\n      }\n  }\n  /* istanbul ignore next */\n  throw new Error(`Unexpected binary operator: ${operator}`);\n}\n\n/**\n * 一元表达式计算\n * @param value\n * @param operator\n */\nexport function unaryCalculation(value: string, operator: string): string {\n  switch (operator) {\n    case '+':\n      return value;\n    case '-':\n      return String(-value);\n    default:\n      for (let i = 0; i < installedOperators.length; i++) {\n        const op = installedOperators[i] as Operator<UnaryCalcMethod>;\n        if (op.type.isPrefix && op.value === operator) {\n          return op.calc(value);\n        }\n      }\n  }\n  /* istanbul ignore next */\n  throw new Error(`Unexpected unary operator: ${operator}`);\n}\n\n/**\n * 转换 AST -> 计算结果\n * @param node\n * @param scope\n */\nexport function transform(node: Node | string, scope: Record<string, number | string> = {}): Node | string {\n  if (node instanceof Node) {\n    let scopeValue;\n    switch (node.type) {\n      case 'Expression':\n        return transform(node.expression, scope);\n      case 'BinaryExpression':\n        return binaryCalculation(\n          transform(node.left, scope) as string,\n          transform(node.right, scope) as string,\n          node.operator\n        );\n      case 'UnaryExpression':\n        return unaryCalculation(\n          transform(node.argument, scope) as string,\n          node.operator\n        );\n      case 'NumericLiteral':\n        return node.value;\n      case 'Identifier':\n        scopeValue = scope[node.name];\n        if (scopeValue === undefined) {\n          throw new Error(`The scope name \\`${node.name}\\` is not initialized`);\n        }\n        return String(scopeValue);\n      default:\n        /* istanbul ignore next */\n        throw new Error(`Unexpected type: ${node.type}`);\n    }\n  }\n  return node;\n}\n","import {TokenType, tokenTypes, tokenTypes as tt} from './token-type';\nimport {isNumericStart, isNumericChar, Node, NodeType, isIdentifierChar, isIdentifierStart, getRealNumeric} from './util';\nimport Operator, {createBinaryOperator, createUnaryOperator, installedOperators, useOperator} from '../operator';\nimport {transform, useAdapter} from '../transform';\n\n/**\n * AST Parser\n */\nexport default class Parser {\n  readonly input: string // 输入的解析字符串\n  node: Node | null | undefined // 解析后的 AST 节点\n  pos: number // 当前位置\n  tokenType: TokenType // 当前 Token 的类型\n  value: string  // 当前 Token 的值\n  start: number // 当前 Token 的开始位置\n  end: number // 当前 Token 的结束位置\n  lastTokenStart: number // 上一个 Token 的开始位置\n  lastTokenEnd: number // 上一个 Token 的结束位置\n  allowPrefix: boolean // 当前上下文是否允许前缀\n\n  // pubic static method\n  static createBinaryOperator: typeof createBinaryOperator;\n  static createUnaryOperator: typeof createUnaryOperator;\n  static useOperator: typeof useOperator;\n  static useAdapter: typeof useAdapter;\n\n  static evaluate(expression: string, scope?: Record<string, number>): string {\n    return new Parser(expression).compile()(scope);\n  }\n\n  // internal static\n  static readonly Node = Node\n  static readonly TokenType = TokenType\n  static readonly tokenTypes = tokenTypes\n  static readonly installedOperators: Operator[] = installedOperators\n\n  /**\n   * 解析的字符串\n   * @param input\n   */\n  constructor(input: string) {\n    this.input = String(input);\n    this.tokenType = tt.start;\n    this.value = '';\n    this.pos = 0;\n    this.start = 0;\n    this.end = 0;\n    this.lastTokenStart = 0;\n    this.lastTokenEnd = 0;\n    this.allowPrefix = true;\n  }\n\n  /**\n   * 编译表达式\n   */\n  compile(): (scope?: Record<string, number>) => string {\n    let node = this.node;\n    if (node === undefined) {\n      node = this.parse();\n    }\n    return (scope?: Record<string, number>): string => {\n      if (!node) return '0';\n      return transform(node, scope ?? {}) as string;\n    };\n  }\n\n  /**\n   * 开始解析，如果是空字符串返回 `null`\n   */\n  parse(): Node | null {\n    this.next();\n    const node = this.startNode(this.start);\n    if (this.tokenType === tt.end) {\n      return this.node = null; // 空字符\n    }\n\n    node.expression = this.parseExpression();\n    if (this.tokenType !== tt.end) { // 其后遇到其他非法字符\n      this.unexpected(this.value);\n    }\n    return this.node = this.finishNode(node, 'Expression');\n  }\n\n  /**\n   * 解析表达式\n   */\n  parseExpression(): Node {\n    return this.parseExprAtom(this.start, -1);\n  }\n\n  /**\n   * 解析一个表达式原子, 如: `1 + 2`、`(1 + 2 + 3)`、`1` 都作为一个表达式原子解析\n   * @param leftStartPos 左侧开始位置\n   * @param minPrecedence 当前上下文的优先级\n   */\n  parseExprAtom(leftStartPos: number, minPrecedence: number): Node {\n    if (this.tokenType === tt.parenL) { // 遇到 `(` 则递归解析表达式原子\n      this.next();\n      const left = this.parseExprAtom(this.start, -1);\n      this.expect(tt.parenR);\n      return this.parseExprOp(left, leftStartPos, minPrecedence); // 将 `(expr)` 整体作为左值，进入优先级解析流程\n    } else {\n      const left = this.parseMaybeUnary(minPrecedence);\n      return this.parseExprOp(left, leftStartPos, minPrecedence); // 读取一个数字作为左值，进入优先级解析流程\n    }\n  }\n\n  /**\n   * 解析二元表达式优先级\n   * @param left 左值\n   * @param leftStartPos 左值节点起始位置\n   * @param minPrecedence 当前上下文的优先级\n   */\n  parseExprOp(\n    left: Node,\n    leftStartPos: number,\n    minPrecedence: number\n  ): Node {\n    const precedence = this.tokenType.precedence;\n    if (this.tokenType.isBinary && precedence > minPrecedence) { // 比较当前运算符与上下文优先级\n      const node = this.startNode(leftStartPos);\n      const operator = this.value;\n      this.next();\n\n      // 解析可能更高优先级的右侧表达式，如: `1 + 2 * 3` 将解析 `2 * 3` 作为右值\n      const start = this.start;\n      const maybeHighPrecedenceExpr = this.parseExprAtom(start, precedence);\n      const right = this.parseExprOp(maybeHighPrecedenceExpr, start, precedence);\n      node.left = left;\n      node.operator = operator;\n      node.right = right;\n      this.finishNode(node, 'BinaryExpression');\n\n      // 将已经解析的二元表达式作为左值，然后递归解析后面可能的同等优先级或低优先级的表达式作为右值\n      // 如: `1 + 2 + 3`, 当前已经解析 `1 + 2`, 然后将该节点作为左值递归解析表达式优先级\n      return this.parseExprOp(node, leftStartPos, minPrecedence);\n    }\n    return left;\n  }\n\n  /**\n   * 解析可能带前缀的表达式，如: `+1`, `-(2)`, `3`, `-(3 + 4)`, `+-+5`\n   * @param minPrecedence 当前上下文的优先级\n   */\n  parseMaybeUnary(minPrecedence: number): Node {\n    const precedence = this.tokenType.precedence;\n    const node = this.startNode();\n    const start = this.start;\n    const value = this.value;\n\n    // Note: `1 ++ 1` 会当作 `1 + (+1)` 对待，与 JS 会作为 `1++` 对待不同\n    if (this.tokenType.isPrefix) {\n      if (precedence >= minPrecedence) { // 相同优先级的一元运算符可以连续\n        node.operator = value;\n        node.prefix = true;\n        this.next();\n        node.argument = this.parseExprAtom(this.start, precedence);\n        return this.finishNode(node, 'UnaryExpression');\n      }\n    }\n\n    if (this.tokenType === tt.numeric) {\n      const realValue = getRealNumeric(value);\n      node.rawValue = value;\n      node.value = realValue;\n      this.next();\n      return this.finishNode(node, 'NumericLiteral');\n    }\n\n    if (this.tokenType === tt.identifier) {\n      node.name = value;\n      this.next();\n      return this.finishNode(node, 'Identifier');\n    }\n\n    return this.unexpected(value, start);\n  }\n\n  /**\n   * 读取并移到下一个 Token\n   */\n  next(): void {\n    this.lastTokenStart = this.start;\n    this.lastTokenEnd = this.end;\n    this.skipSpace();\n\n    this.start = this.pos;\n    if (this.pos >= this.input.length) {\n      if (this.tokenType === tt.end) return;\n      this.finishToken(tt.end);\n    } else {\n      this.readToken();\n    }\n  }\n\n  /**\n   * 读取一个 token\n   */\n  readToken(): void {\n    const code = this.codeAt(this.pos);\n    if (isNumericStart(code)) {\n      return this.readNumeric();\n    }\n    return this.readTokenFromCode();\n  }\n\n  /**\n   * 读取一个数字\n   */\n  readNumeric(): void {\n    const chunkStart = this.pos;\n    let countE = -1; // 统计字符 `e` 出现次数，-1 表示当前位置不允许出现 `e`\n    let allowDot = true;\n    let allowUnderline = false;\n    let expectANumber = false; // 是否期望字符是数字\n    let unexpectedPos = -1;\n\n    while (this.isValidPosition()) {\n      const code = this.codeAt(this.pos);\n\n      if (isNumericChar(code)) { // 0-9\n        if (countE === -1) {\n          countE = 0;\n        }\n        this.pos++;\n        expectANumber = false;\n        allowUnderline = true;\n      } else if (expectANumber) {\n        unexpectedPos = this.pos;\n        expectANumber = false;\n        break;\n      } else if (code === 69 || code === 101) { // `E` / `e`\n        if (countE !== 0) {\n          unexpectedPos = this.pos;\n          break;\n        }\n\n        countE++;\n        this.pos++;\n        if (\n          this.isValidPosition() &&\n          (this.codeAt(this.pos) === 43 || this.codeAt(this.pos) === 45) // `+` / `-`\n        ) {\n          this.pos++;\n        }\n        allowDot = false;\n        expectANumber = true;\n      } else if (code === 46) { // `.`\n        if (!allowDot) {\n          unexpectedPos = this.pos;\n          break;\n        }\n\n        allowDot = false;\n        this.pos++;\n        if (this.pos - chunkStart === 1) {\n          expectANumber = true;\n        }\n      } else if (code === 95) { // `_`\n        if (!allowUnderline) {\n          unexpectedPos = this.pos;\n          break;\n        }\n\n        allowUnderline = false;\n        expectANumber = true;\n        this.pos++;\n      } else {\n        break;\n      }\n    }\n\n    if (expectANumber) {\n      unexpectedPos = this.pos - 1;\n    }\n    if (unexpectedPos >= 0) {\n      this.unexpected(this.input[unexpectedPos], unexpectedPos);\n    }\n\n    const value = this.input.slice(chunkStart, this.pos);\n    this.finishToken(tt.numeric, value);\n  }\n\n  /**\n   * 根据字符 code 读取一个 Token，包括自定义注册的运算符\n   */\n  readTokenFromCode(): void {\n    const code = this.codeAt(this.pos);\n\n    // 优先解析自定义运算符\n    let operator, i, j;\n    for (i = 0; i < installedOperators.length; i++) {\n      const op = installedOperators[i];\n      for (j = 0; j < op.codes.length; j++) {\n        if (op.codes[j] !== this.codeAt(this.pos + j)) break;\n      }\n      if (j === op.codes.length) {\n        operator = op;\n        break;\n      }\n    }\n    if (operator) {\n      this.pos += operator.codes.length;\n      return this.finishToken(operator.type, operator.value);\n    }\n\n    switch (code) {\n      case 40: // `(`\n        this.pos++;\n        return this.finishToken(tt.parenL, '(');\n      case 41: // `)`\n        this.pos++;\n        return this.finishToken(tt.parenR, ')');\n      case 42: // `*`\n        this.pos++;\n        return this.finishToken(tt.times, '*');\n      case 43: // `+`\n        this.pos++;\n        if (this.allowPrefix) {\n          return this.finishToken(tt.prefixPlus, '+');\n        }\n        return this.finishToken(tt.plus, '+');\n      case 45: // `-`\n        this.pos++;\n        if (this.allowPrefix) {\n          return this.finishToken(tt.prefixMinus, '-');\n        }\n        return this.finishToken(tt.minus, '-');\n      case 47: // `/`\n        this.pos++;\n        return this.finishToken(tt.div, '/');\n      default:\n        if (isIdentifierStart(code)) {\n          return this.readIdentifier();\n        }\n    }\n\n    this.unexpected(this.input[this.pos]);\n  }\n\n  /**\n   * 读取一个 scope 变量 Token\n   */\n  readIdentifier(): void {\n    const chunkStart = this.pos;\n    while (this.isValidPosition()) {\n      const code = this.codeAt(this.pos);\n      if (isIdentifierChar(code)) {\n        this.pos++;\n      } else {\n        break;\n      }\n    }\n    const value = this.input.slice(chunkStart, this.pos);\n    this.finishToken(tt.identifier, value);\n  }\n\n  /**\n   * 完善一个 Token\n   * @param type\n   * @param value\n   */\n  finishToken(type: TokenType, value = ''): void {\n    const prevType = this.tokenType;\n    this.end = this.pos;\n    this.tokenType = type;\n    this.value = value;\n\n    this.updateContext(prevType);\n  }\n\n  /**\n   * 读取 Token 完成后更新上下文\n   * @param prevType\n   */\n  updateContext(prevType: TokenType): void {\n    const type = this.tokenType;\n    if (type.isBinary || type.isPrefix) {\n      this.allowPrefix = true;\n    } else if (type.updateContext) {\n      type.updateContext.call(this, prevType);\n    }\n  }\n\n  codeAt(index: number): number {\n    return this.input.charCodeAt(index);\n  }\n\n  isValidPosition(): boolean {\n    return this.pos < this.input.length;\n  }\n\n  /**\n   * 在当前位置创建一个新节点\n   */\n  startNode(pos?: number): Node {\n    return new Node(pos ?? this.start);\n  }\n\n  /**\n   * 完善一个节点\n   * @param node\n   * @param type\n   */\n  finishNode(node: Node, type: NodeType): Node {\n    node.type = type;\n    node.end = this.lastTokenEnd;\n    return node;\n  }\n\n  /**\n   * 跳过空白字符\n   */\n  skipSpace(): void {\n    while (this.isValidPosition()) {\n      const code = this.codeAt(this.pos);\n      if (code === 32 || code === 160) { // ` `\n        this.pos++;\n      } else if (code === 13 || code === 10 || code === 8232 || code === 8233) { // new line\n        if (code === 13 && this.codeAt(this.pos + 1) === 10) { // CRLF\n          this.pos++;\n        }\n        this.pos++;\n      } else if (code > 8 && code < 14) { // 制表符等\n        this.pos++;\n      } else {\n        break;\n      }\n    }\n  }\n\n  /**\n   * 消费当前指定类型的 token，否则抛出异常\n   * @param type\n   */\n  expect(type: TokenType): void {\n    if (!this.eat(type)) {\n      this.unexpected(this.value);\n    }\n  }\n\n  /**\n   * 消费一个 token，如果是指定的 token 类型，则移动到下一个 token ，返回 true，否则返回 false\n   * @param type\n   */\n  eat(type: TokenType): boolean {\n    if (this.tokenType === type) {\n      this.next();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * 抛出 Unexpected token 异常\n   * @param token\n   * @param pos\n   */\n  unexpected(token = '', pos?: number): never {\n    this.raise(pos ?? this.start, `Unexpected token ${token}`);\n  }\n\n  /**\n   * 抛出异常\n   * @param pos\n   * @param message\n   */\n  raise(pos: number, message: string): never {\n    if (pos > this.input.length - 1) {\n      message = 'Unexpected end of input';\n    } else {\n      message += ` at position ${pos}`;\n    }\n    throw new SyntaxError(message);\n  }\n}\n","import Parser from './parser';\nimport Operator, {createBinaryOperator, createUnaryOperator, useOperator} from './operator';\nimport {useAdapter} from './transform';\n\ndeclare const __VERSION__: string;\n\nconst evaluate = Parser.evaluate;\n\nParser.createBinaryOperator = createBinaryOperator;\nParser.createUnaryOperator = createUnaryOperator;\nParser.useOperator = useOperator;\nParser.useAdapter = useAdapter;\n\n\nconst DecimalEval = {\n  evaluate,\n  Parser,\n  Operator,\n  version: __VERSION__\n};\n\nexport {\n  evaluate,\n  Parser,\n  Operator\n};\nexport default DecimalEval;\n","import BigNumber from 'bignumber.js';\nimport DecimalEval, {Parser} from './pure';\nimport {IAdapter} from './transform';\n\n/**\n * big.js 计算适配器\n */\nconst bigJSAdapter: Readonly<IAdapter> = {\n  '+': (left, right) => {\n    return new BigNumber(left).plus(right).toString();\n  },\n  '-': (left, right) => {\n    return new BigNumber(left).minus(right).toString();\n  },\n  '*': (left, right) => {\n    return new BigNumber(left).times(right).toString();\n  },\n  '/': (left, right) => {\n    return new BigNumber(left).div(right).toString();\n  }\n};\n\nParser.useAdapter(bigJSAdapter);\n\n\nexport default DecimalEval;\nexport * from './pure';\nexport {\n  BigNumber\n};\n","import { getConditionMap } from \"./userCondition\";\r\nimport HumanizeUtils from \"../../common/utils/HumanizeUtils\";\r\nimport { evaluate } from 'decimal-eval';\r\nimport Condition from \"../../common/models/Condition\";\r\nimport { ConditionData } from \"../../common/types/data\";\r\n\r\nexport default class userValueUtil {\r\n    private humanize;\r\n    private conditionMap: Record<string, Condition> = {};\r\n    constructor(humanize: HumanizeUtils, conditionMap?: Record<string, Condition>) {\r\n        this.humanize = humanize;\r\n        if (conditionMap) this.conditionMap = conditionMap;\r\n    }\r\n    async load() {\r\n        this.conditionMap = await getConditionMap();\r\n    }\r\n    parse(evaluation: string, data: ConditionData): false | number {\r\n        if (!this.conditionMap) return false;\r\n        const match = evaluation.matchAll(/\\{([^\\}]*)\\}/ig);\r\n        for (const m of match) {\r\n            const condition = this.conditionMap[m[1]];\r\n            if (!condition) return false;\r\n            let value: number = condition.getTotal(data.calculate);\r\n            if (data.span) {\r\n                value = condition.getSpan(data.span, data.calculate);\r\n            }\r\n            evaluation = evaluation.replace(m[0], value + \"\");\r\n        }\r\n        try {\r\n            return Math.floor(parseFloat(evaluate(evaluation)));\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    getValue(condition: ConditionData): number {\r\n        const def = this.humanize.getRawConditionDefinition(condition.name);\r\n        if (!def) return 0;\r\n        if (!def.evaluation) {\r\n            const users = this.conditionMap[condition.name];\r\n            if (!users) return 0;\r\n            let value: number = users.getTotal(condition.calculate);\r\n            if (condition.span) {\r\n                value = users.getSpan(condition.span, condition.calculate);\r\n            }\r\n            return value;\r\n        }\r\n        return this.parse(def.evaluation, condition) || 0;\r\n    }\r\n}\r\n","import app from 'flarum/forum/app';\r\nimport Component from \"flarum/common/Component\";\r\nimport { ConditionData, OPERATOR } from \"../../common/types/data\";\r\nimport Condition from \"../../common/models/Condition\";\r\nimport HumanizeUtils from '../../common/utils/HumanizeUtils';\r\nimport userValueUtil from '../utils/userValueUtil';\r\n\r\nexport default class ConditionList extends Component<{\r\n    conditions: ConditionData[],\r\n    conditionMap?: Record<string, Condition>\r\n}> {\r\n    view(vnode: any) {\r\n        const humanize = HumanizeUtils.getInstance(app);\r\n\r\n        return <div className='collector-condition'>\r\n            <div className='collector-condition-title'><i class=\"fas fa-tasks\"></i>{\" \"}{app.translator.trans(\"xypp-collector.forum.condition.condition\")}</div>\r\n            {\r\n                this.attrs.conditions.map(condition => {\r\n                    return <div className='collector-condition-line'><span>{humanize.humanizeCondition(condition)}</span>\r\n                        {this.progress(condition, humanize)}\r\n                    </div>;\r\n                })\r\n            }\r\n        </div>\r\n    }\r\n    progress(condition: ConditionData, humanize: HumanizeUtils) {\r\n        if (!this.attrs.conditionMap) return \"\";\r\n        const valueHelper = new userValueUtil(humanize, this.attrs.conditionMap);\r\n        let value = valueHelper.getValue(condition);\r\n        const satisfy = this.conditionOp(value, condition.operator, condition.value);\r\n        if (satisfy) {\r\n            return <span className=\"collector-progress-satisfy\">\r\n                [<i class=\"fas fa-check\"></i>]\r\n            </span>\r\n        }\r\n        return (\r\n            <span className={\"collector-progress-not-satisfy\"}>\r\n                [{value}/{condition.value}]\r\n            </span>\r\n        );\r\n    }\r\n    conditionOp(value1: number, op: OPERATOR, value2: number) {\r\n        switch (op) {\r\n            case OPERATOR.EQUAL:\r\n                return value1 == value2;\r\n            case OPERATOR.GREATER_THAN:\r\n                return value1 > value2;\r\n            case OPERATOR.GREATER_THAN_OR_EQUAL:\r\n                return value1 >= value2;\r\n            case OPERATOR.LESS_THAN:\r\n                return value1 < value2;\r\n            case OPERATOR.LESS_THAN_OR_EQUAL:\r\n                return value1 <= value2;\r\n            case OPERATOR.NOT_EQUAL:\r\n                return value1 != value2;\r\n        }\r\n    }\r\n\r\n}","import app from 'flarum/forum/app';\r\nimport Component from \"flarum/common/Component\";\r\nimport { RewardData } from \"../../common/types/data\";\r\nimport HumanizeUtils from '../../common/utils/HumanizeUtils';\r\n\r\nexport default class RewardList extends Component<{\r\n    rewards: RewardData[]\r\n}> {\r\n    view(vnode: any) {\r\n        const humanize = HumanizeUtils.getInstance(app);\r\n        return <div className='collector-reward'>\r\n            <div className='collector-reward-title'><i class=\"fas fa-gift\"></i>{\" \"}{app.translator.trans(\"xypp-collector.forum.reward.reward\")}</div>\r\n            {humanize.humanizeReward(this.attrs.rewards).map((e: any) => <div>{e}</div>)}\r\n        </div>\r\n    }\r\n}","import app from 'flarum/forum/app';\nimport { init } from '../common/integration';\nimport { registerCount } from './integration/pageCount';\napp.initializers.add('xypp/collector', () => {\n  init(app, \"forum\");\n  registerCount();\n});\n\nimport { addCondition, addReward, addRewardSelection, rewardValueConvert } from '../common/utils/AddFrontend';\nimport { triggerCondition, triggerConditions } from './utils/frontendTrigger';\nimport HumanizeUtils from '../common/utils/HumanizeUtils';\nimport Condition from '../common/models/Condition';\nimport { getConditionMap, getConditions } from './utils/userCondition';\nimport ConditionList from './components/ConditionList';\nimport RewardList from './components/RewardList';\nimport userValueUtil from './utils/userValueUtil';\nimport { OPERATOR,CALCULATE } from '../common/types/data';\nexport {\n  addCondition,\n  addReward,\n  addRewardSelection,\n  rewardValueConvert,\n  triggerCondition,\n  triggerConditions,\n  HumanizeUtils,\n  Condition,\n  getConditionMap,\n  getConditions,\n  ConditionList,\n  RewardList,\n  userValueUtil,\n  OPERATOR,\n  CALCULATE\n};\n","import { addCondition, addReward, addRewardSelection, rewardValueConvert } from \"../utils/AddFrontend\";\r\nimport AdminApplication from \"flarum/admin/AdminApplication\";\r\nimport ForumApplication from \"flarum/forum/ForumApplication\";\r\nimport commonSelectionModal from \"../components/commonSelectionModal\";\r\n\r\nexport function init(app: ForumApplication | AdminApplication, fe: string) {\r\n    const base = `xypp-collector.${fe}.integration`\r\n    addGroup(app, base);\r\n\r\n    if (flarum.extensions['xypp-store'])\r\n        addStoreItem(app, base);\r\n\r\n    if (flarum.extensions['v17development-user-badges'])\r\n        addBadge(app, base);\r\n}\r\nfunction addStoreItem(app: ForumApplication | AdminApplication, base: string) {\r\n    const storeItemLoadingMap: Record<string, boolean> = {}\r\n    // addReward(\"store_item\", app.translator.trans(`${base}.reward.store_item`) + \"\");\r\n    rewardValueConvert(\"store_item\", function (value: string) {\r\n        const item = app.store.getById(\"store-item\", value);\r\n        if (!item) {\r\n            if (storeItemLoadingMap[value] === undefined) {\r\n                storeItemLoadingMap[value] = true;\r\n                app.store.find(\"store-item\", value).then(() => {\r\n                    m.redraw();\r\n                }).catch(() => {\r\n                    storeItemLoadingMap[value] = false;\r\n                });\r\n                return app.translator.trans(`${base}.reward.store_item_loading`) + \"\";\r\n            } else if (storeItemLoadingMap[value] === false) {\r\n                return app.translator.trans(`${base}.reward.store_item_error`) + \"\";\r\n            } else {\r\n                return app.translator.trans(`${base}.reward.store_item_loading`) + \"\";\r\n            }\r\n        }\r\n        return item.attribute(\"name\");\r\n    });\r\n    addRewardSelection(\"store_item\", async () => {\r\n        const items = await app.store.find(\"store-item\") as unknown as any[];\r\n        const itemsMap = items.reduce((map, item) => {\r\n            map[item.id()] = item.attribute(\"name\");\r\n            return map;\r\n        }, {} as Record<string, string>);\r\n        return await commonSelectionModal.open(app,\r\n            itemsMap,\r\n            app.translator.trans(`${base}.reward.store_item_select`) as string,\r\n            app.translator.trans(`${base}.reward.store_item_select_button`) as string);\r\n    });\r\n}\r\nfunction addBadge(app: ForumApplication | AdminApplication, base: string) {\r\n    const badgeLoadingMap: Record<string, boolean> = {}\r\n    // addReward(\"badge\", app.translator.trans(`${base}.reward.badge`) + \"\");\r\n    rewardValueConvert(\"badge\", function (value: string) {\r\n        const item = app.store.getById(\"badges\", value);\r\n        if (!item) {\r\n            if (badgeLoadingMap[value] === undefined) {\r\n                badgeLoadingMap[value] = true;\r\n                app.store.find(\"badges\", value).then(() => {\r\n                    m.redraw();\r\n                }).catch(() => {\r\n                    badgeLoadingMap[value] = false;\r\n                });\r\n                return app.translator.trans(`${base}.reward.badge_loading`) + \"\";\r\n            } else if (badgeLoadingMap[value] === false) {\r\n                return app.translator.trans(`${base}.reward.badge_error`) + \"\";\r\n            } else {\r\n                return app.translator.trans(`${base}.reward.badge_loading`) + \"\";\r\n            }\r\n        }\r\n        return item.attribute(\"name\");\r\n    });\r\n    addRewardSelection(\"badge\", async () => {\r\n        const items = await app.store.find(\"badges\") as unknown as any[];\r\n        const itemsMap = items.reduce((map, item) => {\r\n            map[item.id()] = item.attribute(\"name\");\r\n            return map;\r\n        }, {} as Record<string, string>);\r\n        return await commonSelectionModal.open(app,\r\n            itemsMap,\r\n            app.translator.trans(`${base}.reward.badge_select`) as string,\r\n            app.translator.trans(`${base}.reward.badge_select_button`) as string);\r\n    });\r\n}\r\n\r\nfunction addGroup(app: ForumApplication | AdminApplication, base: string) {\r\n    const storeItemLoadingMap: Record<string, boolean> = {}\r\n    rewardValueConvert(\"group\", function (value: string) {\r\n        const item = app.store.getById(\"groups\", value);\r\n        if (!item) {\r\n            if (storeItemLoadingMap[value] === undefined) {\r\n                storeItemLoadingMap[value] = true;\r\n                app.store.find(\"groups\", value).then(() => {\r\n                    m.redraw();\r\n                }).catch(() => {\r\n                    storeItemLoadingMap[value] = false;\r\n                });\r\n                return app.translator.trans(`${base}.reward.group_loading`) + \"\";\r\n            } else if (storeItemLoadingMap[value] === false) {\r\n                return app.translator.trans(`${base}.reward.group_error`) + \"\";\r\n            } else {\r\n                return app.translator.trans(`${base}.reward.group_loading`) + \"\";\r\n            }\r\n        }\r\n        return item.attribute(\"nameSingular\");\r\n    });\r\n    addRewardSelection(\"group\", async () => {\r\n        const items = await app.store.find(\"groups\") as unknown as any[];\r\n        const itemsMap = items.reduce((map, item) => {\r\n            map[item.id()] = item.attribute(\"nameSingular\");\r\n            return map;\r\n        }, {} as Record<string, string>);\r\n        return await commonSelectionModal.open(app,\r\n            itemsMap,\r\n            app.translator.trans(`${base}.reward.group_select`) as string,\r\n            app.translator.trans(`${base}.reward.group_select_button`) as string);\r\n    });\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","import Model from 'flarum/common/Model';\nexport default class CustomCondition extends Model {\n  static type = 'custom-condition';\n  name = Model.attribute<string>('name');\n  display_name = Model.attribute<string>('display_name');\n  evaluation = Model.attribute<string>('evaluation');\n}","import Extend from 'flarum/common/extenders';\r\nimport Condition from './models/Condition';\r\nimport CustomCondition from './models/CustomCondition';\r\nexport default [\r\n    new Extend.Store()\r\n        .add('condition', Condition)\r\n        .add(CustomCondition.type, CustomCondition)\r\n];"],"names":["module","exports","e","n","r","i","s","u","a","o","c","f","h","d","l","$","y","M","name","weekdays","split","months","ordinal","t","m","String","length","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","_","O","args","arguments","b","locale","$L","utc","$u","x","$x","$offset","this","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","forEach","extend","$i","isDayjs","en","Ls","_typeof","require","_regeneratorRuntime","__esModule","Object","hasOwnProperty","defineProperty","value","Symbol","iterator","asyncIterator","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","values","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","key","obj","prop","flarum","core","compat","asyncGeneratorStep","_asyncToGenerator","_next","_throw","OPERATOR","CALCULATE","CONDITION_OPERATOR_MAP","HumanizeUtils","app","definitionLoaded","rawConditionDefinition","conditionTranslations","rewardTranslations","conditionsKeys","rewardsKeys","_proto","loadDefinition","_loadDefinition2","_callee","data","_context","_loadDefinition","request","url","forum","attribute","_this","conditions","trans","rewards","getInstance","instance","getAllConditions","containsGlobal","_this2","ret","ItemList","global","getAllRewards","_this3","getConditionName","has","getRewardName","getRewardValue","rewardSelection","_rewardSelection","_callee2","_context2","_x","humanizeCondition","conditionData","_this4","isArray","map","condition","alter_name","span","translator","operator","calculate","getCalculate","SUM","humanizeReward","rewardData","_this5","_CALCULATE_MAPPING","CALCULATE_MAPPING","MAX","DAY_COUNT","getRawConditionDefinition","addCondition","list","addReward","rewardValueConvert","callback","override","ofunction","_key","addRewardSelection","_ref","_x2","_setPrototypeOf","bind","_inheritsLoose","commonSelectionModal","_Modal","_len","concat","selection","oninit","vnode","attrs","items","className","title","oncreate","onremove","cancel","content","Select","options","onchange","Button","class","loading","button","onsubmit","_onsubmit","preventDefault","open","reject","modal","show","close","Modal","triggerCondition","_triggerConditions","triggerConditions","records","rec","body","typeCnt","optionalJsonParser","JSON","ignore","META_FIELDS","Condition","_Model","Model","user_id","accumulation","getSpan","cut","dayjs","includes","max","getTotal","_this$accumulation","_this$accumulation2","_this$accumulation3","days","all","getConditionMap","_getConditionMap","forceRefresh","user","conditionMap","getConditions","item","_x3","_x4","_getConditions","User","id","filter","find","isNumeric","mathceil","mathfloor","bignumberError","tooManyDigits","BASE","LOG_BASE","MAX_SAFE_INTEGER","POWS_TEN","SQRT_BASE","bitFloor","coeffToString","j","charCodeAt","compare","xc","yc","intCheck","isOdd","toExponential","str","toFixedPoint","len","zs","BigNumber","configObject","div","convertBase","parseNumeric","pow2_53","random53bitInt","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","P","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","prefix","groupSize","secondaryGroupSize","groupSeparator","decimalSeparator","fractionGroupSize","fractionGroupSeparator","suffix","ALPHABET","alphabet","caseChanged","isNum","_isBigNumber","indexOf","search","DEBUG","toUpperCase","rm","c0","ne","maxOrMin","normalise","sd","ni","rd","pows10","out","ROUND_UP","ROUND_DOWN","ROUND_CEIL","ROUND_FLOOR","ROUND_HALF_UP","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_CEIL","ROUND_HALF_FLOOR","EUCLID","config","crypto","getRandomValues","randomBytes","EXPONENTIAL_AT","RANGE","isBigNumber","maximum","lt","minimum","gt","random","dp","rand","Uint32Array","copy","splice","sum","plus","decimal","toBaseOut","baseIn","baseOut","arrL","arr","sign","callerIsToString","pow","multiply","base","temp","xlo","xhi","carry","klo","khi","aL","bL","cmp","more","prod","prodL","q","qc","rem","remL","rem0","xi","xL","yc0","yL","yz","p1","p2","absoluteValue","comparedTo","decimalPlaces","dividedBy","dividedToIntegerBy","idiv","exponentiatedBy","half","isModExp","nIsBig","nIsNeg","nIsOdd","isInteger","mod","times","integerValue","isEqualTo","eq","isFinite","isGreaterThan","isGreaterThanOrEqualTo","gte","isLessThan","isLessThanOrEqualTo","lte","isNegative","isPositive","isZero","minus","xLTy","xe","ye","modulo","multipliedBy","xcL","ycL","ylo","yhi","zc","sqrtBase","negated","precision","shiftedBy","squareRoot","sqrt","rep","toFixed","toFormat","g1","g2","intPart","fractionPart","isNeg","intDigits","substr","RegExp","toFraction","md","d0","d1","d2","exp","n0","n1","toNumber","toPrecision","_classCallCheck","Constructor","_defineProperties","target","props","descriptor","_defineProperty","TokenType","label","_options$precedence","isBinary","isPrefix","precedence","tokenTypes","start","end","parenL","parenR","numeric","identifier","prefixPlus","prefixMinus","updateContext","allowPrefix","Node","isNumericChar","code","isNumericStart","isIdentifierStart","reserved","installedOperators","checkCreateArgs","Operator","calc","isUnary","codes","_adapter","left","right","transform","node","scopeValue","scope","expression","op","binaryCalculation","unaryCalculation","argument","Parser","input","tokenType","pos","lastTokenStart","lastTokenEnd","protoProps","staticProps","startNode","parseExpression","unexpected","finishNode","parseExprAtom","leftStartPos","minPrecedence","expect","parseExprOp","_left","parseMaybeUnary","maybeHighPrecedenceExpr","realValue","rawValue","getRealNumeric","skipSpace","finishToken","readToken","codeAt","readNumeric","readTokenFromCode","chunkStart","countE","allowDot","allowUnderline","expectANumber","unexpectedPos","isValidPosition","readIdentifier","prevType","index","eat","token","raise","message","SyntaxError","compile","evaluate","createBinaryOperator","createUnaryOperator","useOperator","unshift","useAdapter","adapter","bigJSAdapter","userValueUtil","humanize","load","_load","evaluation","_step","_iterator","_createForOfIteratorHelperLoose","matchAll","parseFloat","getValue","def","users","ConditionList","_Component","view","progress","conditionOp","value1","value2","EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","NOT_EQUAL","Component","RewardList","storeItemLoadingMap","store","getById","redraw","_callee3","itemsMap","_context3","reduce","addGroup","extensions","addStoreItem","badgeLoadingMap","addBadge","UserPage","_app$session","_this$user","newKey","cb","dict","slug","CustomCondition","display_name","Extend"],"sourceRoot":""}