{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@xypp/collector/./node_modules/dayjs/dayjs.min.js","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@xypp/collector/./node_modules/@babel/runtime/regenerator/index.js","webpack://@xypp/collector/webpack/bootstrap","webpack://@xypp/collector/webpack/runtime/compat get default export","webpack://@xypp/collector/webpack/runtime/define property getters","webpack://@xypp/collector/webpack/runtime/hasOwnProperty shorthand","webpack://@xypp/collector/webpack/runtime/make namespace object","webpack://@xypp/collector/external root \"flarum.core.compat['admin/app']\"","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@xypp/collector/external root \"flarum.core.compat['common/extend']\"","webpack://@xypp/collector/./src/common/types/data.ts","webpack://@xypp/collector/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@xypp/collector/./src/common/utils/HumanizeUtils.tsx","webpack://@xypp/collector/./src/common/utils/AddFrontend.ts","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@xypp/collector/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/Button']\"","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/Select']\"","webpack://@xypp/collector/./src/common/components/commonSelectionModal.tsx","webpack://@xypp/collector/external root \"flarum.core.compat['common/Model']\"","webpack://@xypp/collector/./src/common/models/Condition.ts","webpack://@xypp/collector/external root \"flarum.core.compat['common/Component']\"","webpack://@xypp/collector/./src/common/utils/NodeUtil.ts","webpack://@xypp/collector/./src/admin/components/RewardConfigure.tsx","webpack://@xypp/collector/./src/admin/components/ConditionConfigure.tsx","webpack://@xypp/collector/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/Checkbox']\"","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@xypp/collector/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@xypp/collector/./src/common/models/CustomCondition.ts","webpack://@xypp/collector/./src/admin/components/editCustomModal.tsx","webpack://@xypp/collector/./src/admin/components/adminPage.tsx","webpack://@xypp/collector/./src/admin/index.ts","webpack://@xypp/collector/./src/common/integration/index.ts","webpack://@xypp/collector/external root \"flarum.core.compat['common/extenders']\"","webpack://@xypp/collector/./src/common/extend.ts"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","export enum OPERATOR {\r\n    EQUAL = '=',\r\n    NOT_EQUAL = '!=',\r\n    GREATER_THAN = '>',\r\n    LESS_THAN = '<',\r\n    GREATER_THAN_OR_EQUAL = '>=',\r\n    LESS_THAN_OR_EQUAL = '<=',\r\n};\r\nexport enum CALCULATE {\r\n    SUM = 1,\r\n    MAX = 2,\r\n    DAY_COUNT = 3,\r\n}\r\nexport type ConditionEvent = {\r\n    name: string;\r\n    value: number;\r\n}\r\nexport type ConditionData = {\r\n    name: string;\r\n    operator: OPERATOR;\r\n    value: number;\r\n    span?: number;\r\n    calculate?: CALCULATE;\r\n    alter_name?: string;\r\n}\r\nexport type RewardData = {\r\n    name: string;\r\n    value: string;\r\n    alter_name?: string;\r\n}\r\nexport type ConditionAccumulation = {\r\n    all: number,\r\n    rest: number,\r\n    max: number,\r\n    days: number;\r\n    [key: string]: number;\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","import ForumApplication from \"flarum/forum/ForumApplication\";\r\nimport AdminApplication from \"flarum/admin/AdminApplication\";\r\n\r\nimport { CALCULATE, ConditionData, RewardData } from \"../types/data\";\r\nimport ItemList from \"flarum/common/utils/ItemList\";\r\nimport Condition from \"../models/Condition\";\r\nimport { showIf } from \"./NodeUtil\";\r\n\r\nconst CONDITION_OPERATOR_MAP = {\r\n    \">=\":\"ge\",\r\n    \">\":\"gt\",\r\n    \"<=\":\"le\",\r\n    \"<\":\"lt\",\r\n    \"=\":\"eq\",\r\n    \"!=\":\"ne\"\r\n}\r\n\r\nexport default class HumanizeUtils {\r\n    public static instance?: HumanizeUtils;\r\n    protected app: ForumApplication | AdminApplication;\r\n    protected definitionLoaded: boolean = false;\r\n    protected rawConditionDefinition: Record<string, {\r\n        global: boolean, trans: string, key: string, manual: boolean, abs: boolean, update: boolean, evaluation?: string\r\n    }> = {}\r\n    protected conditionTranslations: Record<string, string> = {};\r\n    protected rewardTranslations: Record<string, string> = {};\r\n    protected conditionsKeys: string[] = [];\r\n    protected rewardsKeys: string[] = [];\r\n    constructor(app: ForumApplication | AdminApplication) {\r\n        this.app = app;\r\n    }\r\n    public async loadDefinition() {\r\n        if (this.definitionLoaded) {\r\n            return;\r\n        }\r\n        if (this.app.data['collector-definition']) {\r\n            this._loadDefinition(this.app.data['collector-definition'] as any);\r\n            return;\r\n        }\r\n        const data = await this.app.request({\r\n            method: \"GET\",\r\n            url: this.app.forum.attribute(\"apiUrl\") + \"/collector-data\"\r\n        });\r\n        this._loadDefinition(data as any);\r\n    }\r\n    protected _loadDefinition(data: {\r\n        conditions: { global: boolean, trans: string, key: string, manual: boolean, abs: boolean, update: boolean, evaluation?: string }[],\r\n        rewards: { trans: string, key: string }[]\r\n    }) {\r\n        data.conditions.forEach((value) => {\r\n            this.conditionTranslations[value.key] = value.trans;\r\n            this.conditionsKeys.push(value.key);\r\n            this.rawConditionDefinition[value.key] = value;\r\n        });\r\n        data.rewards.forEach((value) => {\r\n            this.rewardTranslations[value.key] = value.trans;\r\n            this.rewardsKeys.push(value.key);\r\n        });\r\n        this.definitionLoaded = true;\r\n    }\r\n    public static getInstance(app: ForumApplication | AdminApplication): HumanizeUtils {\r\n        if (!this.instance) {\r\n            this.instance = new HumanizeUtils(app);\r\n        }\r\n        return this.instance;\r\n    }\r\n    public getAllConditions(containsGlobal: boolean = false): ItemList<string> {\r\n        const ret = new ItemList<string>();\r\n        this.conditionsKeys.forEach(key => {\r\n            if (containsGlobal || !this.rawConditionDefinition[key].global)\r\n                ret.add(key, this.conditionTranslations[key]);\r\n        });\r\n        return ret;\r\n    }\r\n    public getAllRewards(): ItemList<string> {\r\n        const ret = new ItemList<string>();\r\n        this.rewardsKeys.forEach(key => {\r\n            ret.add(key, this.rewardTranslations[key]);\r\n        });\r\n        return ret;\r\n    }\r\n    public getConditionName(key: string): string {\r\n        if (!this.getAllConditions().has(key)) {\r\n            return key;\r\n        }\r\n        return this.getAllConditions().get(key);\r\n    }\r\n    public getRewardName(key: string): string {\r\n        if (!this.getAllRewards().has(key)) {\r\n            return key;\r\n        }\r\n        return this.getAllRewards().get(key);\r\n    }\r\n    public getRewardValue(key: string, value: string): string {\r\n        return value;\r\n    }\r\n    public async rewardSelection(type: string) {\r\n        return \"\";\r\n    }\r\n    public humanizeCondition(conditionData: ConditionData[] | ConditionData): any {\r\n        if (Array.isArray(conditionData)) {\r\n            return conditionData.map(condition => {\r\n                return this.humanizeCondition(condition);\r\n            });\r\n        } else {\r\n            if (conditionData.alter_name) {\r\n                return conditionData.alter_name;\r\n            }\r\n            let span = conditionData.span ? this.app.translator.trans(\"xypp-collector.forum.condition.span\", { span: conditionData.span }) : '';\r\n            if (Array.isArray(span)) {\r\n                span = span.join(\"\");\r\n            }\r\n            return this.app.translator.trans(\"xypp-collector.forum.condition.format\", {\r\n                b: <b />,\r\n                name: this.getConditionName(conditionData.name),\r\n                operator: this.app.translator.trans(`xypp-collector.lib.operator.${CONDITION_OPERATOR_MAP[conditionData.operator]}`),\r\n                value: conditionData.value,\r\n                calculate: this.getCalculate(conditionData.calculate || CALCULATE.SUM),\r\n                span\r\n            });\r\n        }\r\n    }\r\n\r\n    public humanizeReward(rewardData: RewardData[] | RewardData): any {\r\n        if (Array.isArray(rewardData)) {\r\n            return rewardData.map(condition => {\r\n                return this.humanizeReward(condition);\r\n            });\r\n        } else {\r\n            if (rewardData.alter_name) {\r\n                return rewardData.alter_name;\r\n            }\r\n            return this.app.translator.trans(\"xypp-collector.forum.reward.format\", {\r\n                b: <b />,\r\n                name: this.getRewardName(rewardData.name),\r\n                value: this.getRewardValue(rewardData.name, rewardData.value)\r\n            });\r\n        }\r\n    }\r\n\r\n    public getCalculate(calculate: CALCULATE) {\r\n        const CALCULATE_MAPPING = {\r\n            [CALCULATE.SUM]: 'sum',\r\n            [CALCULATE.MAX]: 'max',\r\n            [CALCULATE.DAY_COUNT]: 'days'\r\n        }\r\n        return this.app.translator.trans(\"xypp-collector.lib.calculate.\" + CALCULATE_MAPPING[calculate]);\r\n    }\r\n    public getRawConditionDefinition(key: string): { global: boolean, trans: string, key: string, manual: boolean, abs: boolean, update: boolean, evaluation?: string } | false {\r\n        return this.rawConditionDefinition[key] || false;\r\n    }\r\n}","import { extend, override } from \"flarum/common/extend\";\r\nimport HumanizeUtils from \"./HumanizeUtils\";\r\nimport ItemList from \"flarum/common/utils/ItemList\";\r\n\r\nexport function addCondition(key: string, name: string) {\r\n    extend(HumanizeUtils.prototype, \"getAllConditions\", (list: ItemList<string>) => {\r\n        list.add(key, name);\r\n    })\r\n}\r\nexport function addReward(key: string, name: string) {\r\n    extend(HumanizeUtils.prototype, \"getAllRewards\", (list: ItemList<string>) => {\r\n        list.add(key, name);\r\n    })\r\n}\r\nexport function rewardValueConvert(key: string, callback: (value: string) => string) {\r\n    override(HumanizeUtils.prototype, \"getRewardValue\", (ofunction: (key: string, value: string) => string, _key: string, value: string) => {\r\n        if (key === _key) {\r\n            return callback(value);\r\n        } else {\r\n            return ofunction(_key, value);\r\n        }\r\n    })\r\n}\r\n\r\nexport function addRewardSelection(key: string, callback: () => Promise<string>) {\r\n    override(HumanizeUtils.prototype, \"rewardSelection\", async (ofunction: (key: string) => Promise<string>, _key: string) => {\r\n        if (key === _key) {\r\n            return callback();\r\n        } else {\r\n            return ofunction(_key);\r\n        }\r\n    });\r\n}","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","import Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\r\nimport Button from 'flarum/common/components/Button';\r\nimport Select from 'flarum/common/components/Select';\r\nimport ForumApplication from 'flarum/forum/ForumApplication';\r\nimport AdminApplication from 'flarum/admin/AdminApplication';\r\nexport default class commonSelectionModal extends Modal<{\r\n    items: Record<string, string>,\r\n    title: string,\r\n    button: string,\r\n    callback: (name: string) => void\r\n    cancel: () => void\r\n} & IInternalModalAttrs> {\r\n    selection = \"\";\r\n    done: boolean = false;\r\n    oninit(vnode: any): void {\r\n        super.oninit(vnode);\r\n        this.selection = this.attrs.items[Object.keys(this.attrs.items)[0]];\r\n    }\r\n    className() {\r\n        return 'Modal';\r\n    }\r\n    title() {\r\n        return this.attrs.title;\r\n    }\r\n    oncreate(vnode: any): void {\r\n        super.oncreate(vnode);\r\n    }\r\n    onremove(vnode: any): void {\r\n        super.onremove(vnode);\r\n        if (!this.done)\r\n            this.attrs.cancel();\r\n    }\r\n    content() {\r\n        const that = this;\r\n        return (\r\n            <div className=\"Modal-body\">\r\n                <div className=\"Form\">\r\n                    <div className=\"Form-group\">\r\n                        <Select className=\"FormControl\" value={this.selection} options={this.attrs.items} onchange={((name: string) => {\r\n                            this.selection = name;\r\n                        }).bind(this)} />\r\n                    </div>\r\n                    <div className=\"Form-group\">\r\n                        <Button class=\"Button Button--primary\" type=\"submit\" loading={this.loading}>\r\n                            {this.attrs.button}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    async onsubmit(e: any) {\r\n        e.preventDefault();\r\n        this.done = true;\r\n        this.attrs.callback(this.selection);\r\n    }\r\n    public static open(app: ForumApplication | AdminApplication, items: Record<string, string>, title: string, button: string): Promise<string> {\r\n        return new Promise<string>((resolve, reject) => {\r\n            app.modal.show(commonSelectionModal, {\r\n                items: items,\r\n                title: title,\r\n                button: button,\r\n                cancel: () => {\r\n                    reject();\r\n                },\r\n                callback: (name: string) => {\r\n                    resolve(name);\r\n                    app.modal.close();\r\n                }\r\n            },true);\r\n        });\r\n    }\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\nimport { CALCULATE, ConditionAccumulation, ConditionData, RewardData } from '../types/data';\nimport dayjs from 'dayjs';\n// For more details about frontend models\n// checkout https://docs.flarum.org/extend/models.html#frontend-models\nfunction optionalJsonParser<T>(data: any): T | null {\n  if (!data) {\n    return null\n  };\n  try {\n    return JSON.parse(data);\n  } catch (ignore) {\n    return null;\n  }\n}\n\nconst META_FIELDS = [\"all\", \"rest\", \"flg\", \"max\", \"days\"];\n\nexport default class Condition extends Model {\n  name = Model.attribute<string>('name');\n  value = Model.attribute<number>('value');\n  user_id = Model.attribute<number>('user_id');\n  global = Model.attribute<boolean>('global');\n  accumulation = Model.attribute<ConditionAccumulation | null>('accumulation', optionalJsonParser<ConditionAccumulation>);\n  getSpan(span: number, calculate: CALCULATE = CALCULATE.SUM): number {\n    if (!calculate) calculate = CALCULATE.SUM;\n    const accumulation = this.accumulation();\n    if (!accumulation || span < 1) return 0;\n    let cut = dayjs(dayjs().format(\"YYYYMMDD\"), \"YYYYMMDD\");\n    if (span != 1) {\n      cut = cut.subtract(span - 1, 'day');\n    }\n    let ret = 0;\n    Object.keys(accumulation).forEach((key: string) => {\n      if (META_FIELDS.includes(key)) return;\n      const d = dayjs(key, \"YYYYMMDD\");\n      if (d.isAfter(cut) || d.isSame(cut)) {\n        if (calculate == CALCULATE.MAX)\n          ret = Math.max(ret, accumulation[key]);\n        else if (calculate == CALCULATE.SUM)\n          ret += accumulation[key];\n        else if (calculate == CALCULATE.DAY_COUNT && accumulation[key] > 0)\n          ret += 1;\n      }\n    });\n    return ret;\n  }\n\n  getTotal(calculate: CALCULATE = CALCULATE.SUM) {\n    if (!calculate) calculate = CALCULATE.SUM;\n    if (calculate == CALCULATE.MAX) return this.accumulation()?.max || 0;\n    else if (calculate == CALCULATE.DAY_COUNT) return this.accumulation()?.days || 0;\n    else return this.accumulation()?.all || 0;\n  }\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","export function showIf(judgement: boolean, vnode: any, def?: any) {\n    return judgement ? vnode : (def || \"\");\n}","import Component from \"flarum/common/Component\";\r\nimport { RewardData } from \"../../common/types/data\";\r\nimport Stream from \"mithril/stream\";\r\nimport app from \"flarum/admin/app\";\r\nimport HumanizeUtils from \"../../common/utils/HumanizeUtils\";\r\nimport { showIf } from \"../../common/utils/NodeUtil\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport Select from \"flarum/common/components/Select\";\r\nfunction noNewItem(c: any): boolean {\r\n    return c.name !== \"*\";\r\n}\r\n\r\nexport default class RewardConfigure extends Component<{ rewards: Stream<RewardData[]> }> {\r\n    rewards: RewardData[] = [];\r\n    REG_REWARDS: Record<string, string> = {}\r\n    rewardGettingValue: Record<number, boolean> = {};\r\n    oninit(vnode: any): void {\r\n        super.oninit(vnode);\r\n        const humanize = HumanizeUtils.getInstance(app);\r\n        const reward = humanize.getAllRewards().toObject();\r\n        Object.keys(reward).forEach(item => {\r\n            this.REG_REWARDS[item] = reward[item].content;\r\n        });\r\n\r\n        this.REG_REWARDS['*'] = app.translator.trans('xypp-collector.admin.list.new_item') + \"\";\r\n\r\n        this.rewards = JSON.parse(JSON.stringify(this.attrs.rewards()));\r\n        this.rewards.push({\r\n            name: '*',\r\n            value: '*'\r\n        });\r\n    }\r\n    onbeforeupdate(vnode: any): void {\r\n        this.rewards = JSON.parse(JSON.stringify(this.attrs.rewards()));\r\n        this.rewards.push({\r\n            name: '*',\r\n            value: '*'\r\n        });\r\n        super.onbeforeupdate(vnode);\r\n    }\r\n    view(vnode: any) {\r\n        return <table className='Table'>\r\n            <thead>\r\n                <tr>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.reward-name')}</th>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.reward-value')}</th>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.reward-get_value')}</th>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.reward-alter_name')}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {this.rewards.map((item, index) => {\r\n                    return (\r\n                        <tr>\r\n                            <td>\r\n                                <Select className=\"FormControl\" value={item.name} options={this.REG_REWARDS} onchange={((name: string) => {\r\n                                    if (this.rewards.length == index + 1) {\r\n                                        this.rewards.push({\r\n                                            name: '*',\r\n                                            value: '*'\r\n                                        });\r\n                                    }\r\n                                    this.rewards[index].name = name;\r\n                                    this.attrs.rewards(this.rewards.filter(noNewItem));\r\n                                }).bind(this)}>\r\n                                </Select>\r\n                            </td>\r\n                            <td>\r\n                                <input className=\"FormControl\" type=\"text\" value={item.value} onchange={((e: InputEvent) => {\r\n                                    this.rewards[index].value = (e.target as HTMLInputElement).value;\r\n                                    this.attrs.rewards(this.rewards.filter(noNewItem));\r\n                                }).bind(this)} />\r\n                            </td>\r\n                            <td>\r\n                                <Button className=\"Button Button--primary\" onclick={this.getValue.bind(this)} data-id={index}\r\n                                    disabled={this.rewardGettingValue[index]} loading={this.rewardGettingValue[index]}>\r\n                                    <i class=\"fas fa-eye\"></i>\r\n                                </Button>\r\n                            </td>\r\n                            <td>\r\n                                <input className=\"FormControl\" type=\"text\" value={item.alter_name || \"\"} onchange={((e: InputEvent) => {\r\n                                    this.rewards[index].alter_name = (e.target as HTMLInputElement).value || undefined;\r\n                                    this.attrs.rewards(this.rewards.filter(noNewItem));\r\n                                }).bind(this)} />\r\n                            </td>\r\n                            <td>\r\n                                {showIf(item.name != '*',\r\n                                    <Button className=\"Button Button--danger\" onclick={((e: any) => {\r\n                                        this.rewards.splice(index, 1);\r\n                                        this.attrs.rewards(this.rewards.filter(noNewItem));\r\n                                        m.redraw();\r\n                                    }).bind(this)} data-id={index}>\r\n                                        <i class=\"fas fa-trash\"></i>\r\n                                    </Button>)}\r\n                            </td>\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </table>\r\n    }\r\n\r\n    async getValue(e: MouseEvent) {\r\n        const id = parseInt((e.currentTarget as HTMLInputElement).getAttribute('data-id') as string);\r\n        this.rewardGettingValue[id] = true;\r\n        m.redraw();\r\n        const result = await HumanizeUtils.getInstance(app).rewardSelection(this.rewards[id].name);\r\n        if (result) this.rewards[id].value = result;\r\n        this.rewardGettingValue[id] = false;\r\n        this.attrs.rewards(this.rewards.filter(noNewItem));\r\n        m.redraw();\r\n    }\r\n}","import Component from \"flarum/common/Component\";\r\nimport { CALCULATE, ConditionData, OPERATOR } from \"../../common/types/data\";\r\nimport Stream from \"mithril/stream\";\r\nimport app from \"flarum/admin/app\";\r\nimport HumanizeUtils from \"../../common/utils/HumanizeUtils\";\r\nimport { showIf } from \"../../common/utils/NodeUtil\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport Select from \"flarum/common/components/Select\";\r\n\r\nfunction noNewItem(c: any): boolean {\r\n    return c.name !== \"*\";\r\n}\r\n\r\nexport default class ConditionConfigure extends Component<{ conditions: Stream<ConditionData[]> }> {\r\n    conditions: ConditionData[] = [];\r\n    REG_OPERATOR: Record<string, string> = {\r\n        '=': '=',\r\n        '>': '>',\r\n        '>=': '>=',\r\n        '<': '<',\r\n        '<=': '<=',\r\n        '!=': '!='\r\n    }\r\n    REG_CALCULATE: Record<string, string> = {\r\n    }\r\n    REG_CONDITIONS: Record<string, string> = {}\r\n\r\n    oninit(vnode: any): void {\r\n        super.oninit(vnode);\r\n        const humanize = HumanizeUtils.getInstance(app);\r\n        const conditions = humanize.getAllConditions().toObject();\r\n        Object.keys(conditions).forEach(item => {\r\n            this.REG_CONDITIONS[item] = conditions[item].content;\r\n        });\r\n\r\n        this.REG_CONDITIONS['*'] = app.translator.trans('xypp-collector.admin.list.new_item') + \"\";\r\n        this.REG_CALCULATE[CALCULATE.SUM] = humanize.getCalculate(CALCULATE.SUM) + \"\";\r\n        this.REG_CALCULATE[CALCULATE.MAX] = humanize.getCalculate(CALCULATE.MAX) + \"\";\r\n        this.REG_CALCULATE[CALCULATE.DAY_COUNT] = humanize.getCalculate(CALCULATE.DAY_COUNT) + \"\";\r\n        this.conditions = JSON.parse(JSON.stringify(this.attrs.conditions()));\r\n        this.conditions.push({\r\n            name: '*',\r\n            operator: OPERATOR.EQUAL,\r\n            value: 0\r\n        });\r\n    }\r\n    onbeforeupdate(vnode: any): void {\r\n        this.conditions = JSON.parse(JSON.stringify(this.attrs.conditions()));\r\n        this.conditions.push({\r\n            name: '*',\r\n            operator: OPERATOR.EQUAL,\r\n            value: 0\r\n        });\r\n        super.onbeforeupdate(vnode);\r\n    }\r\n    view(vnode: any) {\r\n        return <table className='Table condition-table'>\r\n            <thead>\r\n                <tr>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.condition-name')}</th>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.condition-operator')}</th>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.condition-value')}</th>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.condition-span')}</th>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.condition-calculate')}</th>\r\n                    <th>{app.translator.trans('xypp-collector.admin.list.condition-alter_name')}</th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {this.conditions.map((item, index) => {\r\n                    return (\r\n                        <tr>\r\n                            <td>\r\n                                <Select className=\"FormControl\" value={item.name} options={this.REG_CONDITIONS} onchange={((name: string) => {\r\n                                    if (this.conditions.length == index + 1) {\r\n                                        this.conditions.push({\r\n                                            name: '*',\r\n                                            operator: OPERATOR.EQUAL,\r\n                                            value: 0\r\n                                        });\r\n                                    }\r\n                                    this.conditions[index].name = name;\r\n                                    this.attrs.conditions(this.conditions.filter(noNewItem));;\r\n                                }).bind(this)}>\r\n                                </Select>\r\n                            </td>\r\n                            <td>\r\n                                <Select className=\"FormControl\" value={item.operator} options={this.REG_OPERATOR} onchange={((name: string) => {\r\n                                    this.conditions[index].operator = name as OPERATOR;\r\n                                    this.attrs.conditions(this.conditions.filter(noNewItem));;\r\n                                }).bind(this)}>\r\n                                </Select>\r\n                            </td>\r\n                            <td>\r\n                                <input className=\"FormControl\" type=\"text\" value={item.value} onchange={((e: InputEvent) => {\r\n                                    this.conditions[index].value = parseInt((e.target as HTMLInputElement).value);\r\n                                    this.attrs.conditions(this.conditions.filter(noNewItem));;\r\n                                }).bind(this)} />\r\n                            </td>\r\n                            <td>\r\n                                <input className=\"FormControl\" type=\"number\" value={item.span} onchange={((e: InputEvent) => {\r\n                                    this.conditions[index].span = (e.target as HTMLInputElement).value ? parseInt((e.target as HTMLInputElement).value) : undefined;\r\n                                    this.attrs.conditions(this.conditions.filter(noNewItem));;\r\n                                }).bind(this)} />\r\n                            </td>\r\n                            <td>\r\n                                <Select className=\"FormControl\" value={item.calculate || CALCULATE.SUM} options={this.REG_CALCULATE} onchange={((name: string) => {\r\n                                    this.conditions[index].calculate = parseInt(name) as CALCULATE;\r\n                                    this.attrs.conditions(this.conditions.filter(noNewItem));;\r\n                                }).bind(this)}>\r\n                                </Select>\r\n                            </td>\r\n                            <td>\r\n                                <input className=\"FormControl\" type=\"text\" value={item.alter_name || \"\"} onchange={((e: InputEvent) => {\r\n                                    this.conditions[index].alter_name = (e.target as HTMLInputElement).value || undefined;\r\n                                    this.attrs.conditions(this.conditions.filter(noNewItem));;\r\n                                }).bind(this)} />\r\n                            </td>\r\n                            <td>\r\n                                {showIf(item.name != '*',\r\n                                    <Button className=\"Button Button--danger\" onclick={((e: any) => {\r\n                                        this.conditions.splice(index, 1);\r\n                                        m.redraw();\r\n                                        this.attrs.conditions(this.conditions.filter(noNewItem));;\r\n                                    }).bind(this)} data-id={index}>\r\n                                        <i class=\"fas fa-trash\"></i>\r\n                                    </Button>\r\n                                )}\r\n                                {showIf((this.conditions[index - 1] && item.name != '*'),\r\n                                    <Button className=\"Button Button--secondary\" onclick={this.swap(index, -1)}>\r\n                                        <i class=\"fas fa-sort-up\"></i>\r\n                                    </Button>\r\n                                )}\r\n                                {showIf((this.conditions[index + 2] && item.name != '*'),\r\n                                    <Button className=\"Button Button--secondary\" onclick={this.swap(index, 1)}>\r\n                                        <i class=\"fas fa-sort-down\"></i>\r\n                                    </Button>\r\n                                )}\r\n                            </td>\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </table>\r\n    }\r\n\r\n\r\n    swap(id: number, dir: number) {\r\n        return (() => {\r\n            const swap1 = Math.max(id + dir, id);\r\n            const swap2 = Math.min(id + dir, id);\r\n            const tmp = this.conditions[swap1];\r\n            this.conditions[swap1] = this.conditions[swap2];\r\n            this.conditions[swap2] = tmp;\r\n            this.attrs.conditions(this.conditions.filter(noNewItem));;\r\n            m.redraw();\r\n        }).bind(this);\r\n    }\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Checkbox'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","import Model from 'flarum/common/Model';\nexport default class CustomCondition extends Model {\n  static type = 'custom-condition';\n  name = Model.attribute<string>('name');\n  display_name = Model.attribute<string>('display_name');\n  evaluation = Model.attribute<string>('evaluation');\n}","import Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\r\nimport app from 'flarum/admin/app';\r\nimport Button from 'flarum/common/components/Button';\r\nimport Select from 'flarum/common/components/Select';\r\nimport Switch from \"flarum/common/components/Switch\"\r\nimport { showIf } from '../../common/utils/NodeUtil';\r\nimport Stream from 'flarum/common/utils/Stream';\r\nimport CustomCondition from '../../common/models/CustomCondition';\r\nimport HumanizeUtils from '../../common/utils/HumanizeUtils';\r\n\r\nexport default class editCustomModal extends Modal<{\r\n    item?: CustomCondition,\r\n    update?: (item: CustomCondition) => void\r\n} & IInternalModalAttrs> {\r\n    name: string = \"\";\r\n    display_name: string = \"\";\r\n    evaluation: string = \"\";\r\n    oninit(vnode: any): void {\r\n        super.oninit(vnode);\r\n        const humanize = HumanizeUtils.getInstance(app);\r\n        if (this.attrs.item) {\r\n            this.name = this.attrs.item.name();\r\n            this.display_name = this.attrs.item.display_name();\r\n            this.evaluation = this.attrs.item.evaluation();\r\n        }\r\n    }\r\n    className() {\r\n        return 'Modal Modal--large';\r\n    }\r\n    title() {\r\n        return app.translator.trans('xypp-collector.admin.custom.title');\r\n    }\r\n    oncreate(vnode: any): void {\r\n        super.oncreate(vnode);\r\n    }\r\n    content() {\r\n        const that = this;\r\n        const humanize = HumanizeUtils.getInstance(app);\r\n        return (\r\n            <div className=\"Modal-body\">\r\n                <div className=\"Form\">\r\n                    <div className=\"Form-group\">\r\n                        <label for=\"xypp-collector-custom-ipt-name\">{app.translator.trans('xypp-collector.admin.custom.name')}</label>\r\n                        <input id=\"xypp-collector-custom-ipt-name\" required className=\"FormControl\" type=\"text\" step=\"any\" value={this.name} onchange={((e: InputEvent) => {\r\n                            this.name = (e.target as HTMLInputElement).value;\r\n                        }).bind(this)} />\r\n                    </div>\r\n                    <div className=\"Form-group\">\r\n                        <label for=\"xypp-collector-custom-ipt-display_name\">{app.translator.trans('xypp-collector.admin.custom.display_name')}</label>\r\n                        <input id=\"xypp-collector-custom-ipt-display_name\" required className=\"FormControl\" type=\"text\" step=\"any\" value={this.display_name} onchange={((e: InputEvent) => {\r\n                            this.display_name = (e.target as HTMLInputElement).value;\r\n                        }).bind(this)} />\r\n                    </div>\r\n                    <div className=\"Form-group\">\r\n                        <label for=\"xypp-collector-custom-ipt-evaluation\">{app.translator.trans('xypp-collector.admin.custom.evaluation')}</label>\r\n                        <textarea id=\"xypp-collector-custom-ipt-evaluation\" required className=\"FormControl\" step=\"any\" value={this.evaluation} onchange={((e: InputEvent) => {\r\n                            this.evaluation = (e.target as HTMLTextAreaElement).value;\r\n                        }).bind(this)}>{this.evaluation}</textarea>\r\n                    </div>\r\n                    <div className=\"Form-group\">\r\n                        <Button class=\"Button Button--primary\" type=\"submit\" loading={this.loading}>\r\n                            {showIf(!!this.attrs.item, app.translator.trans('xypp-collector.admin.custom.button-edit'),\r\n                                app.translator.trans('xypp-collector.admin.custom.button'))}\r\n                        </Button>\r\n                    </div>\r\n                    <pre>\r\n                        {\r\n                            Object.keys(humanize.getAllConditions(true).toObject()).map(function (condition) {\r\n                                return humanize.getConditionName(condition) + \": {\" + condition + \"}\";\r\n                            }).join(\"\\n\")\r\n                        }\r\n                    </pre>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    async onsubmit(e: any) {\r\n        e.preventDefault();\r\n        this.loading = true;\r\n        m.redraw();\r\n        let item = this.attrs.item || app.store.createRecord<CustomCondition>(CustomCondition.type);\r\n\r\n        try {\r\n            const newItem = await item.save({\r\n                name: this.name,\r\n                display_name: this.display_name,\r\n                evaluation: this.evaluation\r\n            });\r\n\r\n            this.attrs.update && this.attrs.update(newItem);\r\n            app.modal.close();\r\n        } finally {\r\n            this.loading = false;\r\n            m.redraw();\r\n        }\r\n    }\r\n}\r\n","import ExtensionPage from \"flarum/admin/components/ExtensionPage\";\r\nimport app from 'flarum/admin/app';\r\nimport Button from \"flarum/common/components/Button\";\r\nimport { showIf } from \"../../common/utils/NodeUtil\";\r\nimport LoadingIndicator from \"flarum/common/components/LoadingIndicator\";\r\nimport HumanizeUtils from \"../../common/utils/HumanizeUtils\";\r\nimport Checkbox from \"flarum/common/components/Checkbox\";\r\nimport LinkButton from \"flarum/common/components/LinkButton\";\r\nimport Tooltip from \"flarum/common/components/Tooltip\";\r\nimport Stream from \"mithril/stream\";\r\nimport type Tag from \"@flarum-tags/common/models/Tag\";\r\nimport CustomCondition from \"../../common/models/CustomCondition\";\r\nimport editCustomModal from \"./editCustomModal\";\r\n\r\nexport default class adminPage extends ExtensionPage {\r\n    loadingData: boolean = false;\r\n    autoEmit?: Stream<string>\r\n    autoEmitObj: Record<string, Record<string, boolean>> = {};\r\n    invalidTags?: Stream<string>;\r\n    invalidTagsObj: Record<string, boolean> = {};\r\n    customs?: CustomCondition[];\r\n    deletingCustom: Record<string, boolean> = {};\r\n    oncreate(vnode: any): void {\r\n        this.autoEmit = this.setting('xypp.collector.emit_control', \"{}\");\r\n        this.autoEmitObj = JSON.parse(this.autoEmit!());\r\n        if (Array.isArray(this.autoEmitObj)) this.autoEmitObj = {};\r\n        this.invalidTags = this.setting('xypp.collector.invalid_tags', \"{}\");\r\n        this.invalidTagsObj = JSON.parse(this.invalidTags!());\r\n        if (Array.isArray(this.invalidTagsObj)) this.invalidTagsObj = {};\r\n        super.oncreate(vnode);\r\n        this.loadData();\r\n    }\r\n    content(vnode: any) {\r\n        return <div className=\"xypp-collector-adminPage-container container\">\r\n            <div className=\"Form-group\">\r\n                <h2>{app.translator.trans('xypp-collector.admin.emit_control.title')}</h2>\r\n                <table className=\"Table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>{app.translator.trans('xypp-collector.admin.emit_control.name')}</th>\r\n                            <th>\r\n                                <LinkButton onclick={this.toggleAll(\"event\")}>\r\n                                    {app.translator.trans('xypp-collector.admin.emit_control.event')}\r\n                                </LinkButton>\r\n                            </th>\r\n                            <th>\r\n                                <LinkButton onclick={this.toggleAll(\"update\")}>\r\n                                    {app.translator.trans('xypp-collector.admin.emit_control.update')}\r\n                                </LinkButton>\r\n                            </th>\r\n                            <th>\r\n                                <LinkButton onclick={this.toggleAll(\"manual\")}>\r\n                                    {app.translator.trans('xypp-collector.admin.emit_control.manual')}\r\n                                </LinkButton>\r\n                            </th>\r\n                            <th>\r\n                                <LinkButton onclick={this.toggleAll(\"abs\")}>\r\n                                    {app.translator.trans('xypp-collector.admin.emit_control.abs')}\r\n                                </LinkButton>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.getControls()}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            {showIf(this.loadingData, <LoadingIndicator />)}\r\n            {this.submitButton()}\r\n            <div className=\"Form-group valid-tags\">\r\n                <h3>{app.translator.trans(\"xypp-collector.admin.valid_tag\")}</h3>\r\n                <div className=\"xypp-collector-valid-tags-check\">\r\n                    {this.getValidTags()}\r\n                </div>\r\n            </div>\r\n            {\r\n                this.buildSettingComponent({\r\n                    setting: \"xypp.collector.max_keep\",\r\n                    label: app.translator.trans('xypp-collector.admin.max_keep'),\r\n                    type: \"number\",\r\n                    min: 1\r\n                })\r\n            }\r\n            {\r\n                this.buildSettingComponent({\r\n                    setting: \"xypp.collector.use_custom\",\r\n                    label: app.translator.trans('xypp-collector.admin.use_custom'),\r\n                    type: \"boolean\"\r\n                })\r\n            }\r\n            {\r\n                this.buildSettingComponent({\r\n                    setting: \"xypp.collector.custom-normal-update\",\r\n                    label: app.translator.trans('xypp-collector.admin.custom_normal_update'),\r\n                    type: \"boolean\"\r\n                })\r\n            }\r\n            {\r\n                this.buildSettingComponent({\r\n                    setting: \"xypp.collector.custom-global-update\",\r\n                    label: app.translator.trans('xypp-collector.admin.custom_global_update'),\r\n                    type: \"boolean\"\r\n                })\r\n            }\r\n            {\r\n                this.buildSettingComponent({\r\n                    setting: \"xypp.collector.auto_update\",\r\n                    label: app.translator.trans('xypp-collector.admin.auto_update'),\r\n                    type: \"boolean\"\r\n                })\r\n            }\r\n            {this.submitButton()}\r\n\r\n            <div>\r\n                <h2>{app.translator.trans(\"xypp-collector.admin.custom.title\")}</h2>\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>{app.translator.trans(\"xypp-collector.admin.custom.name\")}</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            this.customs?.map(custom => <tr className=\"custom-row\">\r\n                                <td>{custom.display_name()}</td>\r\n                                <td>\r\n                                    <Button className=\"Button Button--primary\" onclick={this.customEdit(custom)}>\r\n                                        <i class=\"fas fa-edit\"></i>\r\n                                    </Button>\r\n                                    <Button className=\"Button Button--primary\" onclick={this.customDelete(custom)}>\r\n                                        <i class=\"fas fa-trash-alt\"></i>\r\n                                    </Button>\r\n                                </td>\r\n                            </tr>)\r\n                        }\r\n                        <tr>\r\n                            <td colspan=\"2\">\r\n                                <Button className=\"Button Button--primary\" onclick={this.customAdd()}>\r\n                                    <i class=\"fas fa-plus\"></i>\r\n                                    {app.translator.trans(\"xypp-collector.admin.custom.add\")}\r\n                                </Button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div >\r\n    }\r\n\r\n    async loadData() {\r\n        this.loadingData = true;\r\n        m.redraw();\r\n        await HumanizeUtils.getInstance(app).loadDefinition();\r\n        this.customs = await app.store.find<CustomCondition[]>(CustomCondition.type);\r\n        this.loadingData = false;\r\n        m.redraw();\r\n    }\r\n\r\n    getControls() {\r\n        if (this.loadingData) return [];\r\n        const conditions = HumanizeUtils.getInstance(app).getAllConditions(true).toObject();\r\n        return Object.keys(conditions).map(key => <tr className=\"emit-control-row\">\r\n            <td className=\"emit-control-label\">\r\n                <LinkButton onclick={this.toggleRow(key)}>\r\n                    {conditions[key].content}\r\n                </LinkButton>\r\n            </td>\r\n            <td className=\"emit-control-event\">\r\n                <Checkbox onchange={this.changeStateCbMaker(\"event\", key)}\r\n                    state={this.checked(\"event\", key)}\r\n                    disabled={!this.checkType(\"event\", key)}\r\n                />\r\n            </td>\r\n            <td className=\"emit-control-update\">\r\n                <Checkbox onchange={this.changeStateCbMaker(\"update\", key)}\r\n                    state={this.checked(\"update\", key)}\r\n                    disabled={!this.checkType(\"update\", key)}\r\n                />\r\n            </td>\r\n            <td className=\"emit-control-manual\">\r\n                <Checkbox onchange={this.changeStateCbMaker(\"manual\", key)}\r\n                    state={this.checked(\"manual\", key)}\r\n                    disabled={!this.checkType(\"manual\", key)}\r\n                />\r\n            </td>\r\n            <td className=\"emit-control-abs\">\r\n                <Checkbox onchange={this.changeStateCbMaker(\"abs\", key)}\r\n                    state={this.checked(\"abs\", key)}\r\n                />\r\n                {showIf(this.checkType(\"abs\", key), \"\",\r\n                    <span>\r\n                        <Tooltip text={app.translator.trans(\"xypp-collector.admin.limited_accumulation_support\")}>\r\n                            <i class=\"fas fa-exclamation-triangle\"></i>\r\n                        </Tooltip>\r\n                    </span>\r\n                )}\r\n            </td>\r\n        </tr>\r\n        );\r\n    }\r\n    checked(type: string, name: string): boolean {\r\n        if (!this.checkType(type, name) && type != \"abs\") return false;\r\n        if (!this.autoEmitObj[type]) return true;\r\n        return this.autoEmitObj[type][name] !== true;\r\n    }\r\n    checkType(type: string, name: string): boolean {\r\n        const def = HumanizeUtils.getInstance(app).getRawConditionDefinition(name);\r\n        if (type === \"event\") return !(def && def.manual);\r\n        if (type === \"update\") return def && def.update;\r\n        if (type === \"manual\") return def && def.manual;\r\n        if (type === \"abs\") return def && def.abs;\r\n        return false\r\n    }\r\n    toggleRow(name: string) {\r\n        return ((e: MouseEvent) => {\r\n            e.preventDefault();\r\n            const types = [\"event\", \"update\", \"manual\"].filter(type => this.checkType(type, name)).concat(\"abs\");\r\n\r\n            const target = types.find(type => {\r\n                return this.autoEmitObj[type] && this.autoEmitObj[type][name]\r\n            }) === undefined;\r\n\r\n            types.forEach(type => {\r\n                if (!this.autoEmitObj[type]) this.autoEmitObj[type] = {}\r\n                if (target) this.autoEmitObj[type][name] = true;\r\n                else if (this.autoEmitObj[type][name]) delete this.autoEmitObj[type][name];\r\n            });\r\n\r\n            this.autoEmit!(JSON.stringify(this.autoEmitObj));\r\n        }).bind(this);\r\n    }\r\n    toggleAll(type: string) {\r\n        return ((e: MouseEvent) => {\r\n            e.preventDefault();\r\n            const all = Object.keys(HumanizeUtils.getInstance(app).getAllConditions(true).toObject()).filter(key => this.checkType(type, key) || type === \"abs\");\r\n            if (!this.autoEmitObj[type]) this.autoEmitObj[type] = {};\r\n            let target = false;\r\n            if (Object.keys(this.autoEmitObj[type]).length == 0) target = true;\r\n            all.forEach(key => {\r\n                if (target) this.autoEmitObj[type][key] = true;\r\n                else if (this.autoEmitObj[type][key]) delete this.autoEmitObj[type][key];\r\n            });\r\n            this.autoEmit!(JSON.stringify(this.autoEmitObj));\r\n        }).bind(this)\r\n    }\r\n    changeStateCbMaker(type: string, name: string) {\r\n        return ((e: boolean) => {\r\n            if (!this.autoEmitObj[type]) this.autoEmitObj[type] = {};\r\n            if (!e) this.autoEmitObj[type][name] = true;\r\n            else if (this.autoEmitObj[type][name]) delete this.autoEmitObj[type][name];\r\n            this.autoEmit!(JSON.stringify(this.autoEmitObj));\r\n        }).bind(this);\r\n    }\r\n\r\n    getValidTags() {\r\n        return app.store.all<Tag>(\"tags\").map(tag => {\r\n            return <Checkbox onchange={this.changeValidTagsStateCbMaker(tag)} state={!this.invalidTagsObj[tag.id() || 0]}>\r\n                {tag.name()}\r\n            </Checkbox>\r\n        })\r\n    }\r\n\r\n    changeValidTagsStateCbMaker(tag: Tag) {\r\n        return ((e: boolean) => {\r\n            if (!e) this.invalidTagsObj[tag.id() || 0] = true;\r\n            else if (this.invalidTagsObj[tag.id() || 0]) delete this.invalidTagsObj[tag.id() || 0];\r\n            this.invalidTags!(JSON.stringify(this.invalidTagsObj));\r\n        }).bind(this);\r\n    }\r\n\r\n\r\n    customEdit(custom: CustomCondition) {\r\n        return (e: any) => {\r\n            e.preventDefault();\r\n            app.modal.show(editCustomModal, {\r\n                item: custom,\r\n                update: (item: CustomCondition) => {\r\n                    this.customs = this.customs?.map(c => c.id() == item.id() ? item : c);\r\n                    m.redraw();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    customAdd() {\r\n        return (e: any) => {\r\n            e.preventDefault();\r\n            app.modal.show(editCustomModal, {\r\n                update: (item: CustomCondition) => {\r\n                    this.customs?.push(item);\r\n                    m.redraw();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    customDelete(custom: CustomCondition) {\r\n        return (e: any) => {\r\n            e.preventDefault();\r\n            if (!confirm(app.translator.trans(\"xypp-collector.admin.custom.delete-confirm\") + \"\")) return;\r\n            this.deletingCustom[custom.id() + \"\"] = true;\r\n            m.redraw();\r\n            custom.delete().then(() => {\r\n                this.customs = this.customs?.filter(c => c.id() != custom.id())\r\n                delete this.deletingCustom[custom.id() + \"\"];\r\n                m.redraw();\r\n            });\r\n        }\r\n    }\r\n\r\n}","import app from 'flarum/admin/app';\nimport { init } from '../common/integration';\n\napp.initializers.add('xypp/collector', () => {\n  init(app, \"admin\");\n  app.extensionData\n    .for('xypp-collector')\n    .registerPage(adminPage)\n    .registerPermission({\n      icon: 'fas fa-eye',\n      label: app.translator.trans('xypp-collector.admin.permissions.view-condition'),\n      permission: 'user.view-condition',\n    }, 'moderate', 30);\n});\n\n\nimport { addCondition, addReward, addRewardSelection, rewardValueConvert } from '../common/utils/AddFrontend';\nimport HumanizeUtils from '../common/utils/HumanizeUtils';\nimport Condition from '../common/models/Condition';\nimport RewardConfigure from './components/RewardConfigure';\nimport ConditionConfigure from './components/ConditionConfigure';\nimport { OPERATOR } from '../common/types/data';\nimport adminPage from './components/adminPage';\nexport {\n  addCondition,\n  addReward,\n  addRewardSelection,\n  rewardValueConvert,\n  HumanizeUtils,\n  Condition,\n  RewardConfigure,\n  ConditionConfigure,\n  OPERATOR\n};","import { addCondition, addReward, addRewardSelection, rewardValueConvert } from \"../utils/AddFrontend\";\r\nimport AdminApplication from \"flarum/admin/AdminApplication\";\r\nimport ForumApplication from \"flarum/forum/ForumApplication\";\r\nimport commonSelectionModal from \"../components/commonSelectionModal\";\r\n\r\nexport function init(app: ForumApplication | AdminApplication, fe: string) {\r\n    const base = `xypp-collector.${fe}.integration`\r\n    if (flarum.extensions['xypp-store'])\r\n        addStoreItem(app, base);\r\n\r\n    if (flarum.extensions['v17development-user-badges'])\r\n        addBadge(app, base);\r\n}\r\nfunction addStoreItem(app: ForumApplication | AdminApplication, base: string) {\r\n    const storeItemLoadingMap: Record<string, boolean> = {}\r\n    // addReward(\"store_item\", app.translator.trans(`${base}.reward.store_item`) + \"\");\r\n    rewardValueConvert(\"store_item\", function (value: string) {\r\n        const item = app.store.getById(\"store-item\", value);\r\n        if (!item) {\r\n            if (storeItemLoadingMap[value] === undefined) {\r\n                storeItemLoadingMap[value] = true;\r\n                app.store.find(\"store-item\", value).then(() => {\r\n                    m.redraw();\r\n                }).catch(() => {\r\n                    storeItemLoadingMap[value] = false;\r\n                });\r\n                return app.translator.trans(`${base}.reward.store_item_loading`) + \"\";\r\n            } else if (storeItemLoadingMap[value] === false) {\r\n                return app.translator.trans(`${base}.reward.store_item_error`) + \"\";\r\n            } else {\r\n                return app.translator.trans(`${base}.reward.store_item_loading`) + \"\";\r\n            }\r\n        }\r\n        return item.attribute(\"name\");\r\n    });\r\n    addRewardSelection(\"store_item\", async () => {\r\n        const items = await app.store.find(\"store-item\") as unknown as any[];\r\n        const itemsMap = items.reduce((map, item) => {\r\n            map[item.id()] = item.attribute(\"name\");\r\n            return map;\r\n        }, {} as Record<string, string>);\r\n        return await commonSelectionModal.open(app,\r\n            itemsMap,\r\n            app.translator.trans(`${base}.reward.store_item_select`) as string,\r\n            app.translator.trans(`${base}.reward.store_item_select_button`) as string);\r\n    });\r\n}\r\nfunction addBadge(app: ForumApplication | AdminApplication, base: string) {\r\n    const badgeLoadingMap: Record<string, boolean> = {}\r\n    // addReward(\"badge\", app.translator.trans(`${base}.reward.badge`) + \"\");\r\n    rewardValueConvert(\"badge\", function (value: string) {\r\n        const item = app.store.getById(\"badges\", value);\r\n        if (!item) {\r\n            if (badgeLoadingMap[value] === undefined) {\r\n                badgeLoadingMap[value] = true;\r\n                app.store.find(\"badges\", value).then(() => {\r\n                    m.redraw();\r\n                }).catch(() => {\r\n                    badgeLoadingMap[value] = false;\r\n                });\r\n                return app.translator.trans(`${base}.reward.badge_loading`) + \"\";\r\n            } else if (badgeLoadingMap[value] === false) {\r\n                return app.translator.trans(`${base}.reward.badge_error`) + \"\";\r\n            } else {\r\n                return app.translator.trans(`${base}.reward.badge_loading`) + \"\";\r\n            }\r\n        }\r\n        return item.attribute(\"name\");\r\n    });\r\n    addRewardSelection(\"badge\", async () => {\r\n        const items = await app.store.find(\"badges\") as unknown as any[];\r\n        const itemsMap = items.reduce((map, item) => {\r\n            map[item.id()] = item.attribute(\"name\");\r\n            return map;\r\n        }, {} as Record<string, string>);\r\n        return await commonSelectionModal.open(app,\r\n            itemsMap,\r\n            app.translator.trans(`${base}.reward.badge_select`) as string,\r\n            app.translator.trans(`${base}.reward.badge_select_button`) as string);\r\n    });\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","import Extend from 'flarum/common/extenders';\r\nimport Condition from './models/Condition';\r\nimport CustomCondition from './models/CustomCondition';\r\nexport default [\r\n    new Extend.Store()\r\n        .add('condition', Condition)\r\n        .add(CustomCondition.type, CustomCondition)\r\n];"],"names":["module","exports","e","n","r","i","s","u","a","o","c","f","h","d","l","$","y","M","name","weekdays","split","months","ordinal","t","m","String","length","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","_","O","args","arguments","b","locale","$L","utc","$u","x","$x","$offset","this","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","forEach","extend","$i","isDayjs","en","Ls","_typeof","require","_regeneratorRuntime","__esModule","Object","hasOwnProperty","defineProperty","value","Symbol","iterator","asyncIterator","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","values","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","key","obj","prop","flarum","core","compat","asyncGeneratorStep","_asyncToGenerator","_next","_throw","OPERATOR","CALCULATE","CONDITION_OPERATOR_MAP","HumanizeUtils","app","definitionLoaded","rawConditionDefinition","conditionTranslations","rewardTranslations","conditionsKeys","rewardsKeys","_proto","loadDefinition","_loadDefinition2","_callee","data","_context","_loadDefinition","request","url","forum","attribute","_this","conditions","trans","rewards","getInstance","instance","getAllConditions","containsGlobal","_this2","ret","ItemList","global","getAllRewards","_this3","getConditionName","has","getRewardName","getRewardValue","rewardSelection","_rewardSelection","_callee2","_context2","_x","humanizeCondition","conditionData","_this4","isArray","map","condition","alter_name","span","translator","operator","calculate","getCalculate","SUM","humanizeReward","rewardData","_this5","_CALCULATE_MAPPING","CALCULATE_MAPPING","MAX","DAY_COUNT","getRawConditionDefinition","addCondition","list","addReward","rewardValueConvert","callback","override","ofunction","_key","addRewardSelection","_ref","_x2","_setPrototypeOf","bind","_inheritsLoose","commonSelectionModal","_Modal","_len","concat","selection","oninit","vnode","attrs","items","className","title","oncreate","onremove","cancel","content","Select","options","onchange","Button","class","loading","button","onsubmit","_onsubmit","preventDefault","open","reject","modal","show","close","Modal","optionalJsonParser","JSON","ignore","META_FIELDS","Condition","_Model","Model","user_id","accumulation","getSpan","cut","dayjs","includes","max","getTotal","_this$accumulation","_this$accumulation2","_this$accumulation3","days","all","showIf","judgement","def","noNewItem","RewardConfigure","_Component","REG_REWARDS","rewardGettingValue","reward","toObject","item","stringify","onbeforeupdate","view","index","filter","target","onclick","getValue","disabled","splice","redraw","_getValue","id","result","parseInt","currentTarget","getAttribute","Component","ConditionConfigure","REG_OPERATOR","REG_CALCULATE","REG_CONDITIONS","humanize","EQUAL","swap","dir","swap1","swap2","tmp","CustomCondition","display_name","evaluation","editCustomModal","for","required","step","newItem","createRecord","save","update","adminPage","_ExtensionPage","loadingData","autoEmit","autoEmitObj","invalidTags","invalidTagsObj","customs","deletingCustom","setting","loadData","_this$customs","LinkButton","toggleAll","getControls","LoadingIndicator","submitButton","getValidTags","buildSettingComponent","label","custom","customEdit","customDelete","colspan","customAdd","_loadData","find","toggleRow","Checkbox","changeStateCbMaker","state","checked","checkType","Tooltip","text","manual","types","_this6","_this7","tag","changeValidTagsStateCbMaker","_this8","_this9","_this9$customs","_this10","_this10$customs","_this11","confirm","_this11$customs","ExtensionPage","base","extensions","storeItemLoadingMap","store","getById","itemsMap","reduce","addStoreItem","badgeLoadingMap","addBadge","registerPage","registerPermission","icon","permission","Extend"],"sourceRoot":""}